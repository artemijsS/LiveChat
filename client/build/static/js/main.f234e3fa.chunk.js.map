{"version":3,"sources":["Components/BackGround.jsx","Components/Search.jsx","redux/actions/loading.js","redux/reducers/user.js","redux/reducers/loading.js","redux/reducers/dialog.js","redux/reducers/message.js","redux/reducers/index.js","redux/store.js","socket.js","redux/actions/message.js","redux/actions/dialog.js","Components/images/logo.jpg","Components/Dialogs.jsx","Components/Chat.jsx","Components/FindNewDialog.jsx","Pages/MainPage.jsx","redux/actions/user.js","Pages/AuthPage.jsx","Pages/RegisterPage.jsx","App.js","routes.jsx","Components/alertTemlate.js","index.js"],"names":["BackGround","className","Search","useState","setActiveSearch","xmlns","viewBox","width","height","fill","d","onChange","e","target","value","type","placeholder","setUserLoading","bool","payload","initialState","userData","loading","user","state","action","userLoading","dialogs","dialogsOrder","activeDialog","dialog","dialogId","status","last_message","text","last_message_time","time","last_message_owner","owner","last_message_status","orderArr","splice","indexOf","unshift","orderActual","newMessages","message","messages","rootReducer","combineReducers","composeEnhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","socket","io","on","data","dispatch","dialogUserOnlineStatusSet","getState","emit","id","userId","dialogLastMessageSet","dialogOrderChange","dialogNewSet","newDialog","dialogLastMessageStatusSet","dialogsFetch","token","axios","get","headers","Authorization","then","res","dialogsSet","answer","dialogsOrderSet","order","arr","activeDialogSet","obj","Dialogs","useDispatch","useSelector","map","key","onClick","src","logo","alt","name","split","length","Chat","setMessages","useEffect","err","console","log","i","data-name","transform","_id","FindNewDialog","setDialogs","createNewDialog","post","createDialog","search","telephone","MainPage","alert","useAlert","activeFindNewDialog","setActiveFindNewDialog","messageText","setMessageText","sendMessage","preventDefault","document","querySelector","recipient","show","Helmet","onSubmit","userDataFetch","path","fetch","method","Accept","body","JSON","stringify","resp","json","localStorage","setItem","email","loginUser","AuthPage","setLoading","password","form","setForm","changeHandler","event","required","htmlFor","minLength","to","RegisterPage","App","routes","exact","useRoutes","removeItem","BaseIcon","_ref","color","_ref$pushRight","pushRight","undefined","children","React","createElement","stroke","strokeWidth","strokeLinecap","strokeLinejoin","style","marginRight","minWidth","InfoIcon","cx","cy","r","x1","y1","x2","y2","SuccessIcon","points","ErrorIcon","CloseIcon","_extends","Object","assign","arguments","source","prototype","hasOwnProperty","call","alertStyle","backgroundColor","padding","textTransform","borderRadius","display","justifyContent","alignItems","boxShadow","fontFamily","boxSizing","buttonStyle","marginLeft","border","cursor","alertTemplate","options","close","flex","position","positions","TOP_CENTER","timeout","offset","background","transition","transitions","SCALE","ReactDOM","render","StrictMode","template","AlertTemplate","getElementById"],"mappings":"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","file":"static/js/main.f234e3fa.chunk.js","sourcesContent":["import React from \"react\"\r\n\r\nconst BackGround = () => {\r\n\r\n    return (\r\n        <div className=\"header bg-overlay\"/>\r\n    )\r\n}\r\n\r\nexport default BackGround;","import React, {useState} from 'react';\r\n\r\nconst Search = () => {\r\n    const [activeSearch, setActiveSearch] = useState('');\r\n\r\n\r\n    return (\r\n        <div className=\"search\">\r\n            <div className=\"box\">\r\n                <div className=\"input-box\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"24\" height=\"24\"><path fill=\"currentColor\" d=\"M15.009 13.805h-.636l-.22-.219a5.184 5.184 0 0 0 1.256-3.386 5.207 5.207 0 1 0-5.207 5.208 5.183 5.183 0 0 0 3.385-1.255l.221.22v.635l4.004 3.999 1.194-1.195-3.997-4.007zm-4.808 0a3.605 3.605 0 1 1 0-7.21 3.605 3.605 0 0 1 0 7.21z\"/></svg>\r\n                    <input onChange={e => setActiveSearch(e.target.value)} type=\"text\" placeholder=\"Поиск или новый чат\"/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Search;","export const setUserLoading = bool => ({\r\n    type: 'LOADING_USER',\r\n    payload: bool\r\n})","const initialState = {\r\n    userData: {},\r\n    loading: false\r\n}\r\n\r\nconst user = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'USER_LOGIN':\r\n            return {\r\n                ...state,\r\n                userData: action.payload\r\n            }\r\n        case 'USER_LOGOUT':\r\n            return {...state,\r\n                userData: {}\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default user;","const initialState = {\r\n    userLoading: true\r\n}\r\n\r\nconst loading = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'LOADING_USER':\r\n            return {\r\n                ...state,\r\n                userLoading: action.payload\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default loading;","const initialState = {\r\n    dialogs: {},\r\n    dialogsOrder: [],\r\n    activeDialog: ''\r\n}\r\n\r\nconst dialog = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'DIALOGS_SET':\r\n            return {\r\n                ...state,\r\n                dialogs: action.payload\r\n            }\r\n        case 'DIALOG_ACTIVE_SET':\r\n            return {\r\n                ...state,\r\n                activeDialog: action.payload\r\n            }\r\n        case 'DIALOG_ORDER_SET':\r\n            return {\r\n                ...state,\r\n                dialogsOrder: action.payload\r\n            }\r\n        case 'DIALOG_USER_ONLINE_SET':\r\n            return {\r\n                ...state,\r\n                dialogs: {\r\n                    ...state.dialogs,\r\n                    [action.dialogId]: {\r\n                        ...state.dialogs[action.dialogId],\r\n                        status: action.payload\r\n                    }\r\n                }\r\n            }\r\n        case 'DIALOG_LAST_MESSAGE_SET':\r\n            return {\r\n                ...state,\r\n                dialogs: {\r\n                    ...state.dialogs,\r\n                    [action.dialogId]: {\r\n                        ...state.dialogs[action.dialogId],\r\n                        dialog: {\r\n                            ...state.dialogs[action.dialogId].dialog,\r\n                            last_message: action.payload.text,\r\n                            last_message_time: action.payload.time,\r\n                            last_message_owner: action.payload.owner,\r\n                            last_message_status: action.payload.status\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        case 'DIALOG_ORDER_CHANGE':\r\n\r\n            let orderArr = state.dialogsOrder\r\n            const dialogId = action.payload\r\n            orderArr.splice(orderArr.indexOf(dialogId), 1)\r\n            orderArr.unshift(dialogId)\r\n\r\n            return {\r\n                ...state,\r\n                dialogsOrder: orderArr\r\n            }\r\n        case 'DIALOG_NEW_SET':\r\n\r\n            let orderActual = state.dialogsOrder\r\n            orderActual.unshift(action.dialogId)\r\n\r\n            return {\r\n                ...state,\r\n                dialogs: {\r\n                    ...state.dialogs,\r\n                    [action.dialogId]: action.payload\r\n                },\r\n                dialogsOrder: orderActual\r\n            }\r\n        case 'DIALOG_LAST_MESSAGE_STATUS_SET':\r\n            return {\r\n                ...state,\r\n                dialogs: {\r\n                    ...state.dialogs,\r\n                    [action.dialogId]: {\r\n                        ...state.dialogs[action.dialogId],\r\n                        dialog: {\r\n                            ...state.dialogs[action.dialogId].dialog,\r\n                            last_message_status: action.payload\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default dialog;","const initialState = {\r\n    newMessages: []\r\n}\r\n\r\nconst message = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'MESSAGES_NEW_SET':\r\n            let messages;\r\n            if (state.newMessages) {\r\n                messages = state.newMessages\r\n                messages.unshift(action.payload)\r\n            } else {\r\n                messages = [action.payload]\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                newMessages: messages\r\n            }\r\n        case 'MESSAGES_NEW_DELETE':\r\n            return {\r\n                ...state,\r\n                newMessages: []\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default message;","import { combineReducers } from \"redux\";\r\nimport user from \"./user\"\r\nimport loading from \"./loading\"\r\nimport dialog from \"./dialog\"\r\nimport message from \"./message\";\r\n\r\nconst rootReducer = combineReducers({\r\n    user,\r\n    loading,\r\n    dialog,\r\n    message\r\n});\r\n\r\nexport default rootReducer;","import { createStore, compose, applyMiddleware } from 'redux';\r\nimport rootReducer from \"./reducers\";\r\nimport thunk from \"redux-thunk\";\r\n\r\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(rootReducer, composeEnhancer(applyMiddleware(thunk)));\r\n\r\nexport default store;\r\n\r\n","import { io } from \"socket.io-client\"\r\nimport store from \"./redux/store\"\r\nimport {dialogLastMessageSet, dialogOrderChange, dialogUserOnlineStatusSet, dialogNewSet, dialogLastMessageStatusSet} from \"./redux/actions/dialog\"\r\nimport { messagesNewSet } from \"./redux/actions/message\";\r\n\r\nconst socket = io()\r\n\r\nsocket.on('userOnline', (data) => {\r\n    store.dispatch(dialogUserOnlineStatusSet(data.dialogId, data.status))\r\n})\r\n\r\nsocket.on('newMessage', (message) => {\r\n    if (store.getState().dialog.activeDialog === message.dialogId) {\r\n        store.dispatch(messagesNewSet(message))\r\n        socket.emit('messageAllStatus', {dialogId: message.dialogId, id: store.getState().user.userData.userId})\r\n    }\r\n\r\n    store.dispatch(dialogLastMessageSet(message.dialogId, message))\r\n\r\n    if (store.getState().dialog.dialogsOrder[0] !== message.dialogId)\r\n        store.dispatch(dialogOrderChange(message.dialogId))\r\n})\r\n\r\nsocket.on('newDialog', (dialog) => {\r\n    store.dispatch(dialogNewSet(dialog.dialogId, dialog.newDialog))\r\n})\r\n\r\nsocket.on('messageAllStatus', (messages) => {\r\n    store.dispatch(dialogLastMessageStatusSet(messages.dialogId))\r\n})\r\n\r\nexport default socket;","export const messagesNewSet = (msg) => {\r\n    return {\r\n        type: 'MESSAGES_NEW_SET',\r\n        payload: msg\r\n    }\r\n}\r\n\r\nexport const messageNewDelete = () => {\r\n    return {\r\n        type: 'MESSAGES_NEW_DELETE'\r\n    }\r\n}","import axios from \"axios\";\r\nimport {setUserLoading} from \"./loading\";\r\nimport socket from \"../../socket\";\r\n\r\nexport const dialogsFetch = (token) => {\r\n    return dispatch => {\r\n        return axios.get(\"/api/dialog/find\", { headers: { Authorization:`Bearer ${token}`}}).then(res => {\r\n            dispatch(dialogsSet(res.data.answer))\r\n            dispatch(dialogsOrderSet(res.data.order))\r\n            dispatch(setUserLoading(false))\r\n        })\r\n    }\r\n}\r\n\r\nexport const createDialog = (token, userId) => {\r\n    return dispatch => {\r\n        return axios.post(\"/api/dialog/new\", {userId},{ headers: { Authorization:`Bearer ${token}`}}).then(res => {\r\n            dispatch(dialogsFetch(token)).then(() => {dispatch(activeDialogSet(res.data))})\r\n            socket.emit('newDialog', res.data)\r\n        })\r\n    }\r\n}\r\n\r\nexport const dialogsOrderSet = (arr) => {\r\n    return {\r\n        type: 'DIALOG_ORDER_SET',\r\n        payload: arr\r\n    }\r\n}\r\n\r\nexport const activeDialogSet = (id) => {\r\n    return {\r\n        type: 'DIALOG_ACTIVE_SET',\r\n        payload: id\r\n    }\r\n}\r\n\r\nexport const dialogsSet = (obj) => {\r\n    return {\r\n        type: 'DIALOGS_SET',\r\n        payload: obj\r\n    }\r\n}\r\n\r\nexport const dialogUserOnlineStatusSet = (id, status) => {\r\n    return {\r\n        type: 'DIALOG_USER_ONLINE_SET',\r\n        payload: status,\r\n        dialogId: id\r\n    }\r\n}\r\n\r\nexport const dialogLastMessageSet = (id, message) => {\r\n    return {\r\n        type: 'DIALOG_LAST_MESSAGE_SET',\r\n        payload: message,\r\n        dialogId: id\r\n    }\r\n}\r\n\r\nexport const dialogOrderChange = (id) => {\r\n    return {\r\n        type: 'DIALOG_ORDER_CHANGE',\r\n        payload: id\r\n    }\r\n}\r\n\r\nexport const dialogNewSet = (dialogId, obj) => {\r\n    return {\r\n        type: 'DIALOG_NEW_SET',\r\n        payload: obj,\r\n        dialogId: dialogId\r\n    }\r\n}\r\n\r\nexport const dialogLastMessageStatusSet = (dialogId) => {\r\n    return {\r\n        type: 'DIALOG_LAST_MESSAGE_STATUS_SET',\r\n        payload: true,\r\n        dialogId: dialogId\r\n    }\r\n}","export default __webpack_public_path__ + \"static/media/logo.c88f8f34.jpg\";","import React from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {activeDialogSet} from \"../redux/actions/dialog\";\r\n\r\nimport logo from \"./images/logo.jpg\";\r\n\r\nconst Dialogs = () => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const {dialogs, activeDialog, dialogsOrder} = useSelector(({dialog}) => dialog)\r\n    const {userData} = useSelector(({user}) => user)\r\n\r\n    const setActiveDialog = (id) => {\r\n        dispatch(activeDialogSet(id))\r\n    }\r\n\r\n    return (\r\n        <div className=\"dialogs\">\r\n            {dialogs !== {} &&\r\n                dialogsOrder.map(key => {\r\n\r\n                    const obj = dialogs[key]\r\n\r\n                    return (\r\n                        <div onClick={() => {setActiveDialog(key)}} className={activeDialog === key ? \"dialog active\" : \"dialog\"} key={key}>\r\n                            <img src={logo} alt=\"error\"/>\r\n                            <div className=\"details\">\r\n                                <div className=\"dialog-info1\">\r\n                                    <div className=\"dialog-name big-text\">\r\n                                        {obj.name}\r\n                                    </div>\r\n                                    <div className=\"mssg-time\">\r\n                                        {obj.dialog.last_message_time ? obj.dialog.last_message_time.split(' ')[1] : \"\"}\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"last-message_notification\">\r\n                                    <div className={`last-message big-text ${obj.dialog.last_message_owner !== userData.userId ? \"noPadding\" : \"\"}`}>\r\n                                        {obj.dialog.last_message &&\r\n                                        <span className={obj.dialog.last_message_owner === userData.userId ? `${obj.dialog.last_message_status ? \"opened\" : \"\"}` : \"none\"}>\r\n                                            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 18 18\" width=\"18\" height=\"18\"><path fill=\"currentColor\" d=\"M17.394 5.035l-.57-.444a.434.434 0 0 0-.609.076l-6.39 8.198a.38.38 0 0 1-.577.039l-.427-.388a.381.381 0 0 0-.578.038l-.451.576a.497.497 0 0 0 .043.645l1.575 1.51a.38.38 0 0 0 .577-.039l7.483-9.602a.436.436 0 0 0-.076-.609zm-4.892 0l-.57-.444a.434.434 0 0 0-.609.076l-6.39 8.198a.38.38 0 0 1-.577.039l-2.614-2.556a.435.435 0 0 0-.614.007l-.505.516a.435.435 0 0 0 .007.614l3.887 3.8a.38.38 0 0 0 .577-.039l7.483-9.602a.435.435 0 0 0-.075-.609z\"/></svg>\r\n                                        </span>\r\n                                        }\r\n                                        {obj.dialog.last_message}\r\n                                    </div>\r\n                                    <div className=\"notification\">\r\n                                        {/*<span>2</span>*/}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                })\r\n            }\r\n            {dialogsOrder.length === 0 &&\r\n                <div>NO-CHATS</div>\r\n            }\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Dialogs;","import React, {useEffect, useState} from 'react';\r\nimport {useSelector} from \"react-redux\";\r\nimport axios from \"axios\";\r\n\r\nconst Chat = () => {\r\n\r\n    const {activeDialog} = useSelector(({dialog}) => dialog)\r\n    const {token, userId} = useSelector(({user}) => user.userData)\r\n    const {newMessages} = useSelector(({message}) => message)\r\n\r\n    const [messages, setMessages] = useState([])\r\n\r\n    useEffect(() => {\r\n        axios.get(`/api/message/find/${activeDialog}`, { headers: { Authorization: `Bearer ${token}` } }).then(res => {\r\n            setMessages(res.data)\r\n        }, err => {\r\n            console.log(err)\r\n        })\r\n    }, [activeDialog, token])\r\n\r\n    return (\r\n        <div className=\"chat\">\r\n            {\r\n                newMessages && newMessages.map((obj, i) => {\r\n                    return (\r\n                        <div className={`message-block ${userId === obj.owner ? \"message-out\" : \"message-in\"}`} key={i+obj._id}>\r\n                            <div className=\"message\">\r\n                                <div className=\"text-block\">\r\n                                    <div className=\"text\">{obj.text}</div>\r\n                                    <div className=\"time-status\">\r\n                                        {obj.time.split(' ')[1]}\r\n                                        <svg className={obj.status ? \"opened\" : \"\"} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 15\" width=\"16\" height=\"15\"><path fill=\"currentColor\" d=\"M15.01 3.316l-.478-.372a.365.365 0 0 0-.51.063L8.666 9.879a.32.32 0 0 1-.484.033l-.358-.325a.319.319 0 0 0-.484.032l-.378.483a.418.418 0 0 0 .036.541l1.32 1.266c.143.14.361.125.484-.033l6.272-8.048a.366.366 0 0 0-.064-.512zm-4.1 0l-.478-.372a.365.365 0 0 0-.51.063L4.566 9.879a.32.32 0 0 1-.484.033L1.891 7.769a.366.366 0 0 0-.515.006l-.423.433a.364.364 0 0 0 .006.514l3.258 3.185c.143.14.361.125.484-.033l6.272-8.048a.365.365 0 0 0-.063-.51z\"/></svg>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <svg className=\"triangle\" id=\"82734756-3615-4ec8-a382-6c6e9d1975af\" data-name=\"Layer 1\"\r\n                                 xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 67.96699 58.57164\">\r\n                                <path className=\"0082bf7a-a2e0-46d1-be00-84645c2dcbc6\"\r\n                                      d=\"M280.49486,515.96866l-44.88734,15.11513a.69234.69234,0,0,1-.221.03621H214.69244A.69245.69245,0,0,1,214,530.42756V515.31243a.69244.69244,0,0,1,.69244-.69243h65.58144A.69243.69243,0,0,1,280.49486,515.96866Z\"\r\n                                      transform=\"translate(-213.5 -514.12)\"/>\r\n                            </svg>\r\n                        </div>\r\n                    )\r\n                })\r\n            }\r\n            {\r\n                messages.map((obj, i) => {\r\n                    return (\r\n                        <div className={`message-block ${userId === obj.owner ? \"message-out\" : \"message-in\"}`} key={i+obj._id}>\r\n                            <div className=\"message\">\r\n                                <div className=\"text-block\">\r\n                                    <div className=\"text\">{obj.text}</div>\r\n                                    <div className=\"time-status\">\r\n                                        {obj.time.split(' ')[1]}\r\n                                        <svg className={obj.status ? \"opened\" : \"\"} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 16 15\" width=\"16\" height=\"15\"><path fill=\"currentColor\" d=\"M15.01 3.316l-.478-.372a.365.365 0 0 0-.51.063L8.666 9.879a.32.32 0 0 1-.484.033l-.358-.325a.319.319 0 0 0-.484.032l-.378.483a.418.418 0 0 0 .036.541l1.32 1.266c.143.14.361.125.484-.033l6.272-8.048a.366.366 0 0 0-.064-.512zm-4.1 0l-.478-.372a.365.365 0 0 0-.51.063L4.566 9.879a.32.32 0 0 1-.484.033L1.891 7.769a.366.366 0 0 0-.515.006l-.423.433a.364.364 0 0 0 .006.514l3.258 3.185c.143.14.361.125.484-.033l6.272-8.048a.365.365 0 0 0-.063-.51z\"/></svg>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <svg className=\"triangle\" id=\"82734756-3615-4ec8-a382-6c6e9d1975af\" data-name=\"Layer 1\"\r\n                                 xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 67.96699 58.57164\">\r\n                                <path className=\"0082bf7a-a2e0-46d1-be00-84645c2dcbc6\"\r\n                                      d=\"M280.49486,515.96866l-44.88734,15.11513a.69234.69234,0,0,1-.221.03621H214.69244A.69245.69245,0,0,1,214,530.42756V515.31243a.69244.69244,0,0,1,.69244-.69243h65.58144A.69243.69243,0,0,1,280.49486,515.96866Z\"\r\n                                      transform=\"translate(-213.5 -514.12)\"/>\r\n                            </svg>\r\n                        </div>\r\n                    )\r\n                })\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Chat;","import React, {useState} from 'react';\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport logo from \"./images/logo.jpg\"\r\nimport axios from \"axios\";\r\nimport {createDialog} from \"../redux/actions/dialog\";\r\n\r\n\r\nconst FindNewDialog = () => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const {token} = useSelector(({user}) => user.userData)\r\n\r\n    const [dialogs, setDialogs] = useState([]);\r\n\r\n    const newDialogs = (search) => {\r\n        if (search.length > 1)\r\n            axios.post(\"/api/user/find\", {telephone: search},{ headers: { Authorization: `Bearer ${token}` }}).then(res => {\r\n                setDialogs(res.data)\r\n            })\r\n    }\r\n\r\n    const createNewDialog = (userId) => {\r\n        dispatch(createDialog(token, userId))\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"search\">\r\n                <div className=\"box\">\r\n                    <div className=\"input-box\">\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"24\" height=\"24\"><path fill=\"currentColor\" d=\"M15.009 13.805h-.636l-.22-.219a5.184 5.184 0 0 0 1.256-3.386 5.207 5.207 0 1 0-5.207 5.208 5.183 5.183 0 0 0 3.385-1.255l.221.22v.635l4.004 3.999 1.194-1.195-3.997-4.007zm-4.808 0a3.605 3.605 0 1 1 0-7.21 3.605 3.605 0 0 1 0 7.21z\"/></svg>\r\n                        <input onChange={(e) => {newDialogs(e.target.value)}} type=\"text\" placeholder=\"Start new dialog - enter telephone\"/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"dialogs\">\r\n                {\r\n                    dialogs.map((user, i) => {\r\n                        return (\r\n                            <div onClick={() => createNewDialog(user._id)} className=\"dialog\" key={user._id+i}>\r\n                                <img src={logo} alt=\"error\"/>\r\n                                <div className=\"details\">\r\n                                    <div className=\"dialog-info1\">\r\n                                        <div className=\"dialog-name big-text\">\r\n                                            {user.name} {user.telephone}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )\r\n                    })\r\n                }\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default FindNewDialog;","import React, {useState, useEffect} from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport { Helmet } from 'react-helmet';\r\nimport {BackGround, Chat, Dialogs, FindNewDialog, Search} from \"../Components\";\r\nimport axios from \"axios\";\r\nimport {useAlert} from \"react-alert\";\r\nimport socket from \"../socket\";\r\nimport logo from \"../Components/images/logo.jpg\";\r\nimport {messageNewDelete} from \"../redux/actions/message\";\r\n\r\n\r\nfunction MainPage () {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const {dialogs, activeDialog} = useSelector(({dialog}) => dialog)\r\n    const {token, userId} = useSelector(({user}) => user.userData)\r\n\r\n    const alert = useAlert()\r\n\r\n    const [activeFindNewDialog, setActiveFindNewDialog] = useState(false)\r\n    const [messageText, setMessageText] = useState('')\r\n\r\n\r\n    useEffect(() => {\r\n        setActiveFindNewDialog(false)\r\n        dispatch(messageNewDelete())\r\n        if (activeDialog)\r\n            socket.emit('messageAllStatus', {dialogId: activeDialog, id: userId})\r\n    }, [activeDialog])\r\n\r\n    const sendMessage = (e) => {\r\n        e.preventDefault()\r\n        const input = document.querySelector('#sendMessageInput')\r\n        input.value = \"\"\r\n\r\n        const message = {\r\n            recipient: dialogs[activeDialog].id,\r\n            text: messageText,\r\n            dialogId: activeDialog\r\n        }\r\n\r\n        axios.post(\"/api/message/new\", message, { headers: { Authorization: `Bearer ${token}` }}).then(message => {\r\n            socket.emit('newMessage', message.data)\r\n        }, err => {\r\n            alert.show('Error with sending message')\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Helmet>\r\n                <title>Live Chat</title>\r\n            </Helmet>\r\n            <BackGround/>\r\n            <div className=\"all-screen\">\r\n                <div className=\"main-box\">\r\n                    <div className=\"whats-app\">\r\n                        <div className=\"side-bar\">\r\n                            { activeFindNewDialog\r\n                                ?\r\n                                    <>\r\n                                        <div className=\"find-header\">\r\n                                            <div className=\"box\">\r\n                                                <div className=\"back\">\r\n                                                    <svg onClick={() => {setActiveFindNewDialog(false)}} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"24\" height=\"24\"><path fill=\"currentColor\" d=\"M12 4l1.4 1.4L7.8 11H20v2H7.8l5.6 5.6L12 20l-8-8 8-8z\"/></svg>\r\n                                                </div>\r\n                                                <div className=\"big-text\">\r\n                                                    New Chat\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                        <FindNewDialog/>\r\n                                    </>\r\n                                :\r\n                                <div>\r\n                                    <div className=\"box-header\">\r\n                                        <img src={logo} alt=\"error\"/>\r\n                                        <div className=\"settings\">\r\n                                            <svg id=\"ee51d023-7db6-4950-baf7-c34874b80976\"\r\n                                                 xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"24\"\r\n                                                 height=\"24\">\r\n                                                <path fill=\"currentColor\"\r\n                                                      d=\"M12 20.664a9.163 9.163 0 0 1-6.521-2.702.977.977 0 0 1 1.381-1.381 7.269 7.269 0 0 0 10.024.244.977.977 0 0 1 1.313 1.445A9.192 9.192 0 0 1 12 20.664zm7.965-6.112a.977.977 0 0 1-.944-1.229 7.26 7.26 0 0 0-4.8-8.804.977.977 0 0 1 .594-1.86 9.212 9.212 0 0 1 6.092 11.169.976.976 0 0 1-.942.724zm-16.025-.39a.977.977 0 0 1-.953-.769 9.21 9.21 0 0 1 6.626-10.86.975.975 0 1 1 .52 1.882l-.015.004a7.259 7.259 0 0 0-5.223 8.558.978.978 0 0 1-.955 1.185z\"/>\r\n                                            </svg>\r\n                                            <svg onClick={() => {setActiveFindNewDialog(true)}} xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"24\"\r\n                                                 height=\"24\">\r\n                                                <path fill=\"currentColor\"\r\n                                                      d=\"M19.005 3.175H4.674C3.642 3.175 3 3.789 3 4.821V21.02l3.544-3.514h12.461c1.033 0 2.064-1.06 2.064-2.093V4.821c-.001-1.032-1.032-1.646-2.064-1.646zm-4.989 9.869H7.041V11.1h6.975v1.944zm3-4H7.041V7.1h9.975v1.944z\"/>\r\n                                            </svg>\r\n                                            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"24\"\r\n                                                 height=\"24\">\r\n                                                <path fill=\"currentColor\"\r\n                                                      d=\"M12 7a2 2 0 1 0-.001-4.001A2 2 0 0 0 12 7zm0 2a2 2 0 1 0-.001 3.999A2 2 0 0 0 12 9zm0 6a2 2 0 1 0-.001 3.999A2 2 0 0 0 12 15z\"/>\r\n                                            </svg>\r\n                                        </div>\r\n                                    </div>\r\n                                    <Search/>\r\n                                    <Dialogs/>\r\n                                </div>\r\n                                }\r\n                        </div>\r\n                        { activeDialog\r\n                            ?\r\n                                <div className=\"chat-bar\">\r\n                                    <div className=\"box-header\">\r\n                                        <img src={logo} alt=\"error\"/>\r\n                                        <div className=\"dialog-info\">\r\n                                            <div className=\"dialog-name\">\r\n                                                {dialogs[activeDialog].name}\r\n                                            </div>\r\n                                            <div className=\"last-time-seen\">\r\n                                                {dialogs[activeDialog].status ? \"online\" : \"offline\"}\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"settings\">\r\n                                            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"24\" height=\"24\"><path fill=\"currentColor\" d=\"M15.9 14.3H15l-.3-.3c1-1.1 1.6-2.7 1.6-4.3 0-3.7-3-6.7-6.7-6.7S3 6 3 9.7s3 6.7 6.7 6.7c1.6 0 3.2-.6 4.3-1.6l.3.3v.8l5.1 5.1 1.5-1.5-5-5.2zm-6.2 0c-2.6 0-4.6-2.1-4.6-4.6s2.1-4.6 4.6-4.6 4.6 2.1 4.6 4.6-2 4.6-4.6 4.6z\"/></svg>\r\n                                            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"24\" height=\"24\"><path fill=\"currentColor\" d=\"M12 7a2 2 0 1 0-.001-4.001A2 2 0 0 0 12 7zm0 2a2 2 0 1 0-.001 3.999A2 2 0 0 0 12 9zm0 6a2 2 0 1 0-.001 3.999A2 2 0 0 0 12 15z\"/></svg>\r\n                                        </div>\r\n                                    </div>\r\n                                    <Chat/>\r\n                                    <div className=\"footer\">\r\n                                        <div className=\"box\">\r\n                                            <form onSubmit={sendMessage} className=\"input-box\">\r\n                                                <input onChange={e => setMessageText(e.target.value)} id=\"sendMessageInput\" type=\"text\" placeholder=\"Введите сообщение\"/>\r\n                                                <svg onClick={sendMessage} type=\"submit\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"24\" height=\"24\"><path fill=\"currentColor\" d=\"M1.101 21.757L23.8 12.028 1.101 2.3l.011 7.912 13.623 1.816-13.623 1.817-.011 7.912z\"/></svg>\r\n                                            </form>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            :\r\n                                <div className=\"chat-bar\"/>\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MainPage;","import {setUserLoading} from './loading';\r\nimport {dialogsFetch} from './dialog';\r\nimport socket from \"../../socket\";\r\n\r\nexport const userDataFetch = (obj, path) => {\r\n    return dispatch => {\r\n        return fetch(`/api/auth/${path}`, {\r\n            method: \"POST\",\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                Accept: 'application/json',\r\n            },\r\n            body: JSON.stringify(obj)\r\n        })\r\n            .then(resp => resp.json())\r\n            .then(data => {\r\n                if (data.message) {\r\n                    return data.message\r\n                } else {\r\n                    localStorage.setItem(\"token\", data.token)\r\n                    const user = {\r\n                        name: data.name,\r\n                        email: data.email,\r\n                        telephone: data.telephone,\r\n                        userId: data.userId,\r\n                        token: data.token\r\n                    }\r\n                    dispatch(loginUser(user))\r\n                    dispatch(setUserLoading(true))\r\n                    socket.emit('userOnline', user.userId)\r\n                    dispatch(dialogsFetch(user.token))\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport const getProfileFetch = () => {\r\n    return dispatch => {\r\n        const token = localStorage.token;\r\n        dispatch(setUserLoading(true));\r\n        if (token) {\r\n            return fetch(\"/api/auth/check\", {\r\n                method: \"GET\",\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    Accept: 'application/json',\r\n                    'Authorization': `Bearer ${token}`\r\n                }\r\n            })\r\n                .then(resp => resp.json())\r\n                .then(data => {\r\n                    if (data.message) {\r\n                        console.log(data.message)\r\n                        localStorage.removeItem(\"token\")\r\n                        dispatch(setUserLoading(false))\r\n                    } else {\r\n                        const user = {\r\n                            name: data.name,\r\n                            email: data.email,\r\n                            telephone: data.telephone,\r\n                            userId: data.userId,\r\n                            token: token\r\n                        }\r\n                        dispatch(loginUser(user))\r\n                        socket.emit('userOnline', user.userId)\r\n                        dispatch(dialogsFetch(token))\r\n                    }\r\n                })\r\n        } else {\r\n            dispatch(setUserLoading(false))\r\n        }\r\n    }\r\n}\r\n\r\nexport const logoutUser = () => {\r\n    localStorage.removeItem(\"token\")\r\n    return {\r\n        type: 'USER_LOGOUT'\r\n    }\r\n}\r\n\r\nconst loginUser = obj => ({\r\n    type: 'USER_LOGIN',\r\n    payload: obj\r\n})","import React, {useState} from 'react';\r\nimport { Helmet } from 'react-helmet';\r\nimport {Link} from \"react-router-dom\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {useAlert} from \"react-alert\";\r\nimport {userDataFetch} from \"../redux/actions/user\";\r\n\r\n\r\nfunction AuthPage () {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const alert = useAlert()\r\n\r\n    const [loading, setLoading] = useState(false)\r\n\r\n    const [form, setForm] = useState({\r\n        email: '', password: ''\r\n    })\r\n\r\n    const changeHandler = event => {\r\n        setForm({ ...form, [event.target.name]: event.target.value })\r\n    }\r\n\r\n    const submit = event => {\r\n        event.preventDefault()\r\n        setLoading(true)\r\n        dispatch(userDataFetch(form,'login')).then(res => {\r\n            if (res) {\r\n                setLoading(false)\r\n                alert.show(res);\r\n            }\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Helmet>\r\n                <title>Login</title>\r\n            </Helmet>\r\n            <div className=\"header bg-overlay\"/>\r\n            <div className=\"all-screen\">\r\n                <div className=\"main-box\">\r\n                    <form className=\"formLogin\" onSubmit={submit}>\r\n                        {loading\r\n                            ?\r\n                                <h1>Loading</h1>\r\n                            :\r\n                                <h1>Login</h1>\r\n                        }\r\n                        <div className=\"text_field\">\r\n                            <input type=\"email\" id=\"email\" name=\"email\" required onChange={changeHandler}/>\r\n                            <span/>\r\n                            <label htmlFor=\"email\">E-mail</label>\r\n                        </div>\r\n                        <div className=\"text_field\">\r\n                            <input type=\"password\" id=\"pass\" name=\"password\" minLength=\"6\" required onChange={changeHandler}/>\r\n                            <span/>\r\n                            <label htmlFor=\"pass\">Password</label>\r\n                        </div>\r\n                        <button type=\"submit\">LOGIN</button>\r\n                        <Link to=\"/registration\">Not a member? Sign in!</Link>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AuthPage;","import React, {useState} from 'react';\r\nimport { Helmet } from 'react-helmet';\r\nimport {Link} from 'react-router-dom';\r\nimport {useDispatch} from 'react-redux';\r\nimport {userDataFetch} from \"../redux/actions/user\";\r\nimport { useAlert } from 'react-alert'\r\n\r\n\r\nfunction RegisterPage () {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const alert = useAlert()\r\n\r\n    const [loading, setLoading] = useState(false)\r\n\r\n    const [form, setForm] = useState({\r\n        telephone: '', name: '', email: '', password: ''\r\n    })\r\n\r\n    const changeHandler = event => {\r\n        setForm({ ...form, [event.target.name]: event.target.value })\r\n    }\r\n\r\n    const submit = event => {\r\n        event.preventDefault()\r\n        setLoading(true)\r\n        dispatch(userDataFetch(form,'register')).then(res => {\r\n            if (res) {\r\n                setLoading(false)\r\n                alert.show(res);\r\n            }\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Helmet>\r\n                <title>Registration</title>\r\n            </Helmet>\r\n            <div className=\"header bg-overlay\"/>\r\n            <div className=\"all-screen\">\r\n                <div className=\"main-box\">\r\n                    <form className=\"formLogin\" onSubmit={submit}>\r\n                        {loading\r\n                            ?\r\n                                <h1>Loading</h1>\r\n                            :\r\n                                <h1>Registration</h1>\r\n                        }\r\n                        <div className=\"text_field\" >\r\n                            <input type=\"tel\" id=\"telephone\" name=\"telephone\" required onChange={changeHandler}/>\r\n                            <span/>\r\n                            <label htmlFor=\"telephone\">Telephone</label>\r\n                        </div>\r\n                        <div className=\"text_field\">\r\n                            <input type=\"tel\" id=\"name\" name=\"name\" required onChange={changeHandler}/>\r\n                            <span/>\r\n                            <label htmlFor=\"name\">Name</label>\r\n                        </div>\r\n                        <div className=\"text_field\">\r\n                            <input type=\"email\" id=\"email\" name=\"email\" required onChange={changeHandler}/>\r\n                            <span/>\r\n                            <label htmlFor=\"email\">E-mail</label>\r\n                        </div>\r\n                        <div className=\"text_field\">\r\n                            <input type=\"password\" id=\"pass\" name=\"password\" minLength=\"6\" required onChange={changeHandler}/>\r\n                            <span/>\r\n                            <label htmlFor=\"pass\">Password</label>\r\n                        </div>\r\n                        <button type=\"submit\">REGISTER</button>\r\n                        <Link to=\"/login\">Already registered? Log in!</Link>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RegisterPage;","import './App.css';\nimport {useRoutes} from \"./routes\";\nimport {BrowserRouter as Router} from \"react-router-dom\";\nimport {useEffect} from \"react\";\nimport {getProfileFetch} from \"./redux/actions/user\";\nimport {useDispatch} from \"react-redux\";\n\nfunction App() {\n    const routes = useRoutes()\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        dispatch(getProfileFetch())\n    }, [])\n\n    return (\n        <Router>\n            {routes}\n        </Router>\n    );\n}\n\nexport default App;\n","import React from 'react';\r\nimport {Switch, Route, Redirect} from 'react-router-dom'\r\n\r\nimport {MainPage, AuthPage, RegisterPage} from \"./Pages\";\r\n\r\nimport {useSelector} from \"react-redux\";\r\n\r\n\r\nexport const useRoutes = () => {\r\n\r\n    const {userData} = useSelector(({ user }) => user);\r\n    const {userLoading} = useSelector(({ loading }) => loading);\r\n\r\n    if (userLoading) {\r\n        return (\r\n            <Switch>\r\n                <Route path=\"/\" exact>\r\n                    <div>LOADING PAGE</div>\r\n                </Route>\r\n                <Redirect to=\"/\"/>\r\n            </Switch>\r\n        )\r\n    } else {\r\n        if (userData.userId) {\r\n            return (\r\n                <Switch>\r\n                    <Route path=\"/\" exact>\r\n                        <MainPage/>\r\n                    </Route>\r\n                    <Redirect to=\"/\"/>\r\n                </Switch>\r\n            )\r\n        } else {\r\n            return (\r\n                <Switch>\r\n                    <Route path=\"/login\" exact>\r\n                        <AuthPage/>\r\n                    </Route>\r\n                    <Route path=\"/registration\" exact>\r\n                        <RegisterPage/>\r\n                    </Route>\r\n                    <Redirect to=\"/login\"/>\r\n                </Switch>\r\n            )\r\n        }\r\n    }\r\n}\r\n","import React from 'react';\r\n\r\nvar BaseIcon = function BaseIcon(_ref) {\r\n    var color = _ref.color,\r\n        _ref$pushRight = _ref.pushRight,\r\n        pushRight = _ref$pushRight === undefined ? true : _ref$pushRight,\r\n        children = _ref.children;\r\n    return React.createElement(\r\n        'svg',\r\n        {\r\n            xmlns: 'http://www.w3.org/2000/svg',\r\n            width: '24',\r\n            height: '24',\r\n            viewBox: '0 0 24 24',\r\n            fill: 'none',\r\n            stroke: color,\r\n            strokeWidth: '2',\r\n            strokeLinecap: 'round',\r\n            strokeLinejoin: 'round',\r\n            style: { marginRight: pushRight ? '20px' : '0', minWidth: 24 }\r\n        },\r\n        children\r\n    );\r\n};\r\n\r\nvar InfoIcon = function InfoIcon() {\r\n    return React.createElement(\r\n        BaseIcon,\r\n        { color: '#e93333' },\r\n        React.createElement('circle', { cx: '12', cy: '12', r: '10' }),\r\n        React.createElement('line', { x1: '12', y1: '16', x2: '12', y2: '12' }),\r\n        React.createElement('line', { x1: '12', y1: '8', x2: '12', y2: '8' })\r\n    );\r\n};\r\n\r\nvar SuccessIcon = function SuccessIcon() {\r\n    return React.createElement(\r\n        BaseIcon,\r\n        { color: '#31B404' },\r\n        React.createElement('path', { d: 'M22 11.08V12a10 10 0 1 1-5.93-9.14' }),\r\n        React.createElement('polyline', { points: '22 4 12 14.01 9 11.01' })\r\n    );\r\n};\r\n\r\nvar ErrorIcon = function ErrorIcon() {\r\n    return React.createElement(\r\n        BaseIcon,\r\n        { color: '#FF0040' },\r\n        React.createElement('circle', { cx: '12', cy: '12', r: '10' }),\r\n        React.createElement('line', { x1: '12', y1: '8', x2: '12', y2: '12' }),\r\n        React.createElement('line', { x1: '12', y1: '16', x2: '12', y2: '16' })\r\n    );\r\n};\r\n\r\nvar CloseIcon = function CloseIcon() {\r\n    return React.createElement(\r\n        BaseIcon,\r\n        { color: '#FFFFFF', pushRight: false },\r\n        React.createElement('line', { x1: '18', y1: '6', x2: '6', y2: '18' }),\r\n        React.createElement('line', { x1: '6', y1: '6', x2: '18', y2: '18' })\r\n    );\r\n};\r\n\r\nvar _extends = Object.assign || function (target) {\r\n    for (var i = 1; i < arguments.length; i++) {\r\n        var source = arguments[i];\r\n\r\n        for (var key in source) {\r\n            if (Object.prototype.hasOwnProperty.call(source, key)) {\r\n                target[key] = source[key];\r\n            }\r\n        }\r\n    }\r\n\r\n    return target;\r\n};\r\n\r\nvar alertStyle = {\r\n    backgroundColor: '#2f9688',\r\n    color: 'white',\r\n    padding: '10px',\r\n    textTransform: 'uppercase',\r\n    borderRadius: '3px',\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    boxShadow: '0px 2px 2px 2px rgba(0, 0, 0, 0.03)',\r\n    fontFamily: 'Arial',\r\n    width: '300px',\r\n    boxSizing: 'border-box'\r\n};\r\n\r\nvar buttonStyle = {\r\n    marginLeft: '20px',\r\n    border: 'none',\r\n    backgroundColor: 'transparent',\r\n    cursor: 'pointer',\r\n    color: '#FFFFFF'\r\n};\r\n\r\nvar alertTemplate = function alertTemplate(_ref) {\r\n    var message = _ref.message,\r\n        options = _ref.options,\r\n        style = _ref.style,\r\n        close = _ref.close;\r\n\r\n    return React.createElement(\r\n        'div',\r\n        { style: _extends({}, alertStyle, style) },\r\n        options.type === 'info' && React.createElement(InfoIcon, null),\r\n        options.type === 'success' && React.createElement(SuccessIcon, null),\r\n        options.type === 'error' && React.createElement(ErrorIcon, null),\r\n        React.createElement(\r\n            'span',\r\n            { style: { flex: 2 } },\r\n            message\r\n        ),\r\n        React.createElement(\r\n            'button',\r\n            { onClick: close, style: buttonStyle },\r\n            React.createElement(CloseIcon, null)\r\n        )\r\n    );\r\n};\r\n\r\nexport default alertTemplate;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport {Provider} from 'react-redux'\nimport store from \"./redux/store\";\nimport { transitions, positions, Provider as AlertProvider } from 'react-alert';\nimport AlertTemplate from './Components/alertTemlate';\n\n// optional configuration\nconst options = {\n    // you can also just use 'bottom center'\n    position: positions.TOP_CENTER,\n    timeout: 5000,\n    offset: '30px',\n    background: '#2f9688',\n    // you can also just use 'scale'\n    transition: transitions.SCALE\n}\n\nReactDOM.render(\n  <React.StrictMode>\n      <Provider store={store}>\n          <AlertProvider template={AlertTemplate} {...options}>\n              <App />\n          </AlertProvider>\n      </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}
(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{141:function(e,t,a){},302:function(e,t,a){"use strict";a.r(t);var n=a(2),s=a(1),c=a.n(s),i=a(26),r=a.n(i),o=(a(141),a(10)),l=a(4),d=a(5),u=a(29),j=a(0),h=function(){return Object(j.jsx)("div",{className:"header bg-overlay"})},b=function(e){return{type:"LOADING_USER",payload:e}},g=a(7),O=a.n(g),m=a(135),p=a(30),x={userData:{},loading:!1,infoAboutUser:{bool:!1,id:null,dialogId:null},dialogSearch:null},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGIN":return Object(n.a)(Object(n.a)({},e),{},{userData:t.payload});case"USER_LOGOUT":D.emit("logout");var a=e.userData.language;return localStorage.setItem("language",a),Object(n.a)(Object(n.a)({},e),{},{userData:{language:a}});case"USER_UPDATE_NAME":return Object(n.a)(Object(n.a)({},e),{},{userData:Object(n.a)(Object(n.a)({},e.userData),{},{name:t.payload})});case"USER_UPDATE_ABOUT":return Object(n.a)(Object(n.a)({},e),{},{userData:Object(n.a)(Object(n.a)({},e.userData),{},{description:t.payload})});case"USER_UPDATE_PHOTO":return Object(n.a)(Object(n.a)({},e),{},{userData:Object(n.a)(Object(n.a)({},e.userData),{},{photo:t.payload})});case"INFO_ABOUT_USER_SET":return Object(n.a)(Object(n.a)({},e),{},{infoAboutUser:t.payload});case"LANGUAGE_CHANGE":return localStorage.setItem("language",t.payload),Object(n.a)(Object(n.a)({},e),{},{userData:Object(n.a)(Object(n.a)({},e.userData),{},{language:t.payload})});case"DIALOG_SEARCH":return Object(n.a)(Object(n.a)({},e),{},{dialogSearch:t.payload});default:return e}},v={userLoading:!0},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING_USER":return Object(n.a)(Object(n.a)({},e),{},{userLoading:t.payload});default:return e}},N=a(16),E={dialogs:{},dialogsOrder:[],activeDialog:""},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DIALOGS_SET":return Object(n.a)(Object(n.a)({},e),{},{dialogs:t.payload});case"DIALOG_ACTIVE_SET":return Object(n.a)(Object(n.a)({},e),{},{activeDialog:t.payload});case"DIALOG_ORDER_SET":return Object(n.a)(Object(n.a)({},e),{},{dialogsOrder:t.payload});case"DIALOG_USER_ONLINE_SET":return Object(n.a)(Object(n.a)({},e),{},{dialogs:Object(n.a)(Object(n.a)({},e.dialogs),{},Object(N.a)({},t.dialogId,Object(n.a)(Object(n.a)({},e.dialogs[t.dialogId]),{},{status:t.payload})))});case"DIALOG_LAST_MESSAGE_SET":return Object(n.a)(Object(n.a)({},e),{},{dialogs:Object(n.a)(Object(n.a)({},e.dialogs),{},Object(N.a)({},t.dialogId,Object(n.a)(Object(n.a)({},e.dialogs[t.dialogId]),{},{dialog:Object(n.a)(Object(n.a)({},e.dialogs[t.dialogId].dialog),{},{last_message:t.payload.text,last_message_time:t.payload.time,last_message_owner:t.payload.owner,last_message_status:t.payload.status})})))});case"DIALOG_ORDER_CHANGE":var a=e.dialogsOrder,s=t.payload;return a.splice(a.indexOf(s),1),a.unshift(s),Object(n.a)(Object(n.a)({},e),{},{dialogsOrder:a});case"DIALOG_NEW_SET":var c=e.dialogsOrder;return c.unshift(t.dialogId),Object(n.a)(Object(n.a)({},e),{},{dialogs:Object(n.a)(Object(n.a)({},e.dialogs),{},Object(N.a)({},t.dialogId,t.payload)),dialogsOrder:c});case"DIALOG_LAST_MESSAGE_STATUS_SET":return Object(n.a)(Object(n.a)({},e),{},{dialogs:Object(n.a)(Object(n.a)({},e.dialogs),{},Object(N.a)({},t.dialogId,Object(n.a)(Object(n.a)({},e.dialogs[t.dialogId]),{},{dialog:Object(n.a)(Object(n.a)({},e.dialogs[t.dialogId].dialog),{},{last_message_status:t.payload})})))});case"DIALOG_DELETE_ONE":var i=e.dialogs;delete i[t.payload];var r=e.dialogsOrder;return r.splice(r.indexOf(t.payload),1),Object(n.a)(Object(n.a)({},e),{},{dialogs:i,dialogsOrder:r});case"DIALOG_DELETE_INFO":return Object(n.a)(Object(n.a)({},e),{},{dialogs:Object(n.a)(Object(n.a)({},e.dialogs),{},Object(N.a)({},t.payload,Object(n.a)(Object(n.a)({},e.dialogs[t.payload]),{},{name:t.name,photo:"DR7pkQw8DqX4F8FmUIHw_a5YEzo0gP3nHOptm6apiyzg_xEs_VcyQq9pQEH6FdY0wOl95xh8_hkepcq",id:"",status:!1,description:"Recipient deleted this chat",email:"DELETED",telephone:"DELETED",deleted:!0})))});default:return e}},C={newMessages:[],status:null},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MESSAGES_NEW_SET":var a;return e.newMessages?(a=e.newMessages).unshift(t.payload):a=[t.payload],Object(n.a)(Object(n.a)({},e),{},{newMessages:a});case"MESSAGES_NEW_STATUS_SET":var s=e.newMessages;return s.map((function(e){e.status=!0})),Object(n.a)(Object(n.a)({},e),{},{newMessages:s});case"MESSAGES_NEW_DELETE":return Object(n.a)(Object(n.a)({},e),{},{newMessages:[]});case"MESSAGES_STATUS_SET":return Object(n.a)(Object(n.a)({},e),{},{status:!e.status});case"MESSAGES_NEW_ID_SET":for(var c=e.newMessages,i=0;i<c.length;i++)"none"===c[i]._id&&(c[i]._id=t.payload,i=c.length);return Object(n.a)(Object(n.a)({},e),{},{newMessages:c});default:return e}},A=Object(p.c)({user:f,loading:w,dialog:y,message:S}),_=a(136),k=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||p.d,I=Object(p.e)(A,k(Object(p.a)(_.a))),T=function(e){return{type:"MESSAGES_NEW_SET",payload:e}},L=Object(m.io)();L.on("userOnline",(function(e){I.dispatch(P(e.dialogId,e.status))})),L.on("newMessage",(function(e){I.getState().dialog.activeDialog===e.dialogId&&(I.dispatch(T(e)),L.emit("messageAllStatus",{dialogId:e.dialogId,id:I.getState().user.userData.userId})),I.dispatch(R(e.dialogId,e)),I.getState().dialog.activeDialog===e.dialogId&&I.dispatch(F(e.dialogId)),I.getState().dialog.dialogsOrder[0]!==e.dialogId&&I.dispatch(G(e.dialogId))})),L.on("newDialog",(function(e){I.dispatch(V(e.dialogId,e.newDialog))})),L.on("messageAllStatus",(function(e){I.dispatch(F(e.dialogId)),I.getState().dialog.activeDialog===e.dialogId&&(I.dispatch({type:"MESSAGES_STATUS_SET"}),I.dispatch({type:"MESSAGES_NEW_STATUS_SET"}))})),L.on("newMessageId",(function(e){I.dispatch(function(e){return{type:"MESSAGES_NEW_ID_SET",payload:e}}(e))})),L.on("dialogDelete",(function(e,t){I.dispatch(W(e,t))}));var D=L,z=function(e){return function(t){return O.a.get("/api/dialog/find",{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){t(U(e.data.answer)),t(M(e.data.order)),t(b(!1))}))}},M=function(e){return{type:"DIALOG_ORDER_SET",payload:e}},B=function(e){return{type:"DIALOG_ACTIVE_SET",payload:e}},U=function(e){return{type:"DIALOGS_SET",payload:e}},P=function(e,t){return{type:"DIALOG_USER_ONLINE_SET",payload:t,dialogId:e}},R=function(e,t){return{type:"DIALOG_LAST_MESSAGE_SET",payload:t,dialogId:e}},G=function(e){return{type:"DIALOG_ORDER_CHANGE",payload:e}},V=function(e,t){return{type:"DIALOG_NEW_SET",payload:t,dialogId:e}},F=function(e){return{type:"DIALOG_LAST_MESSAGE_STATUS_SET",payload:!0,dialogId:e}},K=function(e){return{type:"DIALOG_DELETE_ONE",payload:e}},W=function(e,t){return{type:"DIALOG_DELETE_INFO",payload:e,name:t}},q=function(e,t){return function(a){var n=localStorage.language;return a(Q(n||"EN")),fetch("/api/auth/".concat(t),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){if(e.message)return e.message;localStorage.setItem("token",e.token),localStorage.setItem("language",e.language),e.language&&(n=e.language);var t={name:e.name,email:e.email,telephone:e.telephone,userId:e.userId,token:e.token,role:e.role,description:e.description,photo:e.photo,language:n};a(J(t)),a(b(!0)),D.emit("userOnline",t.userId),a(z(t.token))}))}},H=function(){return function(e){e(B("")),e(Z({bool:!1,id:null,dialogId:null})),e(Y())}},Y=function(){return localStorage.removeItem("token"),{type:"USER_LOGOUT"}},J=function(e){return{type:"USER_LOGIN",payload:e}},Z=function(e){return{type:"INFO_ABOUT_USER_SET",payload:e}},Q=function(e){return{type:"LANGUAGE_CHANGE",payload:e}},X=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.user.userData})).language;return Object(j.jsx)("div",{className:"search",children:Object(j.jsx)("div",{className:"box",children:Object(j.jsxs)("div",{className:"input-box",children:[Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:Object(j.jsx)("path",{fill:"currentColor",d:"M15.009 13.805h-.636l-.22-.219a5.184 5.184 0 0 0 1.256-3.386 5.207 5.207 0 1 0-5.207 5.208 5.183 5.183 0 0 0 3.385-1.255l.221.22v.635l4.004 3.999 1.194-1.195-3.997-4.007zm-4.808 0a3.605 3.605 0 1 1 0-7.21 3.605 3.605 0 0 1 0 7.21z"})}),Object(j.jsx)("input",{onChange:function(t){1!==t.target.value.length&&(console.log(t.target.value),e({type:"DIALOG_SEARCH",payload:t.target.value}))},type:"text",placeholder:$[t].inputPlaceholder})]})})})},$={LV:{inputPlaceholder:"Mekl\u0113t draugu p\u0113c telefona",ok:"OK",cancel:"ATCELT",error:"K\u013c\u016bda"},RU:{inputPlaceholder:"\u041f\u043e\u0438\u0441\u043a \u0434\u0440\u0443\u0433\u0430 \u043f\u043e \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443",ok:"OK",cancel:"\u041e\u0422\u041c\u0415\u041d\u0410",error:"\u041e\u0448\u0438\u0431\u043a\u0430"},EN:{inputPlaceholder:"Search friend by phone",ok:"OK",cancel:"CANCEL",error:"Error"}},ee=a(12),te=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.dialog})),a=t.dialogs,n=t.activeDialog,c=t.dialogsOrder,i=Object(d.c)((function(e){return e.user})).userData,r=Object(s.useState)(""),o=Object(l.a)(r,2),u=o[0],h=o[1],b=Object(s.useState)(""),g=Object(l.a)(b,2),O=g[0],m=g[1];Object(s.useEffect)((function(){var e=new Date;e.setDate(e.getDate()-1),e=ae(e),m(e),h(ae())}),[]),Object(s.useEffect)((function(){for(var e=document.querySelectorAll(".yesterday-dialogs-change"),t=0;t<e.length;t++)e[t].innerHTML=ne[i.language].yesterday}),[i.language]);return Object(j.jsxs)("div",{className:"dialogs",children:[a!=={}&&c.map((function(t){var s=a[t],c=0;return s.dialog.last_message_time.split(" ")[0]===u?c=1:s.dialog.last_message_time.split(" ")[0]===O&&(s.dialog.last_message_time=ne[i.language].yesterday),Object(j.jsxs)("div",{onClick:function(){e(B(t))},className:n===t?"dialog active":"dialog",children:[Object(j.jsx)(ee.a,{cloudName:"artemijss",publicId:s.photo?s.photo:"tkixqcinuntqmalr2dej"}),Object(j.jsxs)("div",{className:"details",children:[Object(j.jsxs)("div",{className:"dialog-info1",children:[Object(j.jsx)("div",{style:s.deleted&&{color:"rgb(214,48,46)"},className:"dialog-name big-text ".concat(s.dialog.last_message_owner===i.userId||s.dialog.last_message_status?"":"bold"),children:s.name}),Object(j.jsx)("div",{className:"mssg-time ".concat(s.dialog.last_message_owner===i.userId||s.dialog.last_message_status?"":"black bold"," ").concat(s.dialog.last_message_time===ne.LV.yesterday||s.dialog.last_message_time===ne.RU.yesterday||s.dialog.last_message_time===ne.EN.yesterday?"yesterday-dialogs-change":""),children:s.dialog.last_message_time?s.dialog.last_message_time.split(" ")[c]:""})]}),Object(j.jsxs)("div",{className:"last-message_notification",children:[Object(j.jsxs)("div",{className:"last-message big-text ".concat(s.dialog.last_message_owner!==i.userId?"noPadding":""),children:[s.dialog.last_message&&Object(j.jsx)("span",{className:s.dialog.last_message_owner===i.userId?"".concat(s.dialog.last_message_status?"opened":""):"none",children:Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",width:"18",height:"18",children:Object(j.jsx)("path",{fill:"currentColor",d:"M17.394 5.035l-.57-.444a.434.434 0 0 0-.609.076l-6.39 8.198a.38.38 0 0 1-.577.039l-.427-.388a.381.381 0 0 0-.578.038l-.451.576a.497.497 0 0 0 .043.645l1.575 1.51a.38.38 0 0 0 .577-.039l7.483-9.602a.436.436 0 0 0-.076-.609zm-4.892 0l-.57-.444a.434.434 0 0 0-.609.076l-6.39 8.198a.38.38 0 0 1-.577.039l-2.614-2.556a.435.435 0 0 0-.614.007l-.505.516a.435.435 0 0 0 .007.614l3.887 3.8a.38.38 0 0 0 .577-.039l7.483-9.602a.435.435 0 0 0-.075-.609z"})})}),Object(j.jsx)("span",{className:s.dialog.last_message_owner===i.userId||s.dialog.last_message_status?"":"black",children:s.dialog.last_message})]}),s.dialog.last_message_owner!==i.userId&&!s.dialog.last_message_status&&Object(j.jsx)("div",{className:"notification",children:Object(j.jsx)("span",{children:"!"})})]})]})]},t)})),0===c.length&&Object(j.jsxs)("div",{className:"no_chat",children:[Object(j.jsx)("p",{children:ne[i.language].noChat1}),Object(j.jsx)("p",{children:ne[i.language].noChat2})]})]})},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=e.getDate();t<10&&(t="0"+t);var a=e.getMonth()+1;a<10&&(a="0"+a);var n=e.getFullYear();return"".concat(t,"/").concat(a,"/").concat(n)},ne={LV:{yesterday:"vakar",noChat1:"Jums v\u0113l nav nevienas akt\u012bvas t\u0113rz\u0113\u0161anas",noChat2:"Izmantojiet mekl\u0113\u0161anu, lai atrastu draugus!",ok:"OK",cancel:"ATCELT",error:"K\u013c\u016bda"},RU:{yesterday:"\u0432\u0447\u0435\u0440\u0430",noChat1:"\u0423 \u0432\u0430\u0441 \u0435\u0449\u0435 \u043d\u0435\u0442 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0447\u0430\u0442\u043e\u0432",noChat2:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043f\u043e\u0438\u0441\u043a, \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u0434\u0440\u0443\u0437\u0435\u0439!",ok:"OK",cancel:"\u041e\u0422\u041c\u0415\u041d\u0410",error:"\u041e\u0448\u0438\u0431\u043a\u0430"},EN:{yesterday:"yesterday",noChat1:"You don't have any active chats yet",noChat2:"Use search to find friends!",ok:"OK",cancel:"CANCEL",error:"Error"}},se=a(9),ce=function(){var e=Object(d.b)(),t=Object(se.d)(),a=Object(d.c)((function(e){return e.dialog})),n=a.activeDialog,c=a.dialogs,i=a.dialogsOrder,r=Object(d.c)((function(e){return e.user})),o=r.userData,u=r.dialogSearch,h=Object(s.useState)({}),b=Object(l.a)(h,2),g=b[0],m=b[1],p=Object(s.useState)(!1),x=Object(l.a)(p,2),f=x[0],v=x[1],w=Object(s.useState)(""),N=Object(l.a)(w,2),E=N[0],y=N[1],C=Object(s.useState)(""),S=Object(l.a)(C,2),A=S[0],_=S[1];Object(s.useEffect)((function(){v(!0),O.a.post("/api/dialog/search",{search:u},{headers:{Authorization:"Bearer ".concat(o.token)}}).then((function(e){m(e.data.answer),v(!1)}),(function(a){401===a.response.status?(t.show(re[o.language].errorAuth),setTimeout((function(){e(H())}),1500)):t.show(re[o.language].error)}));var a=new Date;a.setDate(a.getDate()-1),a=ie(a),_(a),y(ie())}),[u]),Object(s.useEffect)((function(){for(var e=document.querySelectorAll(".yesterday-dialogs-change"),t=0;t<e.length;t++)e[t].innerHTML=re[o.language].yesterday}),[o.language]);return Object(j.jsxs)("div",{className:"dialogs",children:[f&&Object(j.jsx)("div",{className:"loadingChatBlock",children:Object(j.jsx)("div",{className:"spinner spinner-1"})}),c!=={}&&!f&&i.map((function(t){if(Object.keys(g).includes(t)){var a=c[t],s=0;return a.dialog.last_message_time.split(" ")[0]===E?s=1:a.dialog.last_message_time.split(" ")[0]===A&&(a.dialog.last_message_time=re[o.language].yesterday),Object(j.jsxs)("div",{onClick:function(){e(B(t))},className:n===t?"dialog active":"dialog",children:[Object(j.jsx)(ee.a,{cloudName:"artemijss",publicId:a.photo?a.photo:"tkixqcinuntqmalr2dej"}),Object(j.jsxs)("div",{className:"details",children:[Object(j.jsxs)("div",{className:"dialog-info1",children:[Object(j.jsx)("div",{style:a.deleted&&{color:"rgb(214,48,46)"},className:"dialog-name big-text ".concat(a.dialog.last_message_owner===o.userId||a.dialog.last_message_status?"":"bold"),children:a.name}),Object(j.jsx)("div",{className:"mssg-time ".concat(a.dialog.last_message_owner===o.userId||a.dialog.last_message_status?"":"black bold"," ").concat(a.dialog.last_message_time===re.LV.yesterday||a.dialog.last_message_time===re.RU.yesterday||a.dialog.last_message_time===re.EN.yesterday?"yesterday-dialogs-change":""),children:a.dialog.last_message_time?a.dialog.last_message_time.split(" ")[s]:""})]}),Object(j.jsxs)("div",{className:"last-message_notification",children:[Object(j.jsxs)("div",{className:"last-message big-text ".concat(a.dialog.last_message_owner!==o.userId?"noPadding":""),children:[a.dialog.last_message&&Object(j.jsx)("span",{className:a.dialog.last_message_owner===o.userId?"".concat(a.dialog.last_message_status?"opened":""):"none",children:Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",width:"18",height:"18",children:Object(j.jsx)("path",{fill:"currentColor",d:"M17.394 5.035l-.57-.444a.434.434 0 0 0-.609.076l-6.39 8.198a.38.38 0 0 1-.577.039l-.427-.388a.381.381 0 0 0-.578.038l-.451.576a.497.497 0 0 0 .043.645l1.575 1.51a.38.38 0 0 0 .577-.039l7.483-9.602a.436.436 0 0 0-.076-.609zm-4.892 0l-.57-.444a.434.434 0 0 0-.609.076l-6.39 8.198a.38.38 0 0 1-.577.039l-2.614-2.556a.435.435 0 0 0-.614.007l-.505.516a.435.435 0 0 0 .007.614l3.887 3.8a.38.38 0 0 0 .577-.039l7.483-9.602a.435.435 0 0 0-.075-.609z"})})}),Object(j.jsx)("span",{className:a.dialog.last_message_owner===o.userId||a.dialog.last_message_status?"":"black",children:a.dialog.last_message})]}),a.dialog.last_message_owner!==o.userId&&!a.dialog.last_message_status&&Object(j.jsx)("div",{className:"notification",children:Object(j.jsx)("span",{children:"!"})})]})]})]},t)}})),0===Object.keys(c).length&&!f&&Object(j.jsxs)("div",{className:"no_chat",children:[Object(j.jsx)("p",{children:re[o.language].noChat1}),Object(j.jsx)("p",{children:re[o.language].noChat2})]})]})},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=e.getDate();t<10&&(t="0"+t);var a=e.getMonth()+1;a<10&&(a="0"+a);var n=e.getFullYear();return"".concat(t,"/").concat(a,"/").concat(n)},re={LV:{yesterday:"vakar",noChat1:"Diem\u017e\u0113l jums nav \u0161\u0101du draugu",noChat2:"Izmantojiet mekl\u0113\u0161anu, lai atrastu draugus!",ok:"OK",cancel:"ATCELT",error:"K\u013c\u016bda",errorAuth:"Autoriz\u0101cijas periods ir beidzies"},RU:{yesterday:"\u0432\u0447\u0435\u0440\u0430",noChat1:"\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e \u0442\u0430\u043a\u0438\u0445 \u0434\u0440\u0443\u0437\u0435\u0439 \u0443 \u0432\u0430\u0441 \u043d\u0435\u0442",noChat2:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043f\u043e\u0438\u0441\u043a, \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u0434\u0440\u0443\u0437\u0435\u0439!",ok:"OK",cancel:"\u041e\u0422\u041c\u0415\u041d\u0410",error:"\u041e\u0448\u0438\u0431\u043a\u0430",errorAuth:"\u0418\u0441\u0442\u0435\u043a \u0441\u0440\u043e\u043a \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438"},EN:{yesterday:"yesterday",noChat1:"Unfortunately you don't have such friends",noChat2:"Use search to find friends!",ok:"OK",cancel:"CANCEL",error:"Error",errorAuth:"Authorization period expired"}},oe=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.dialog})),a=t.activeDialog,n=t.dialogs,c=Object(d.c)((function(e){return e.user.userData})),i=c.token,r=c.userId,o=c.language,u=Object(d.c)((function(e){return e.message})),h=u.newMessages,b=u.status,g=Object(s.useState)([]),m=Object(l.a)(g,2),p=m[0],x=m[1],f=Object(s.useState)(!0),v=Object(l.a)(f,2),w=v[0],N=v[1],E=Object(se.d)();Object(s.useEffect)((function(){N(!0),O.a.get("/api/message/find/".concat(a),{headers:{Authorization:"Bearer ".concat(i)}}).then((function(e){x(e.data),N(!1)}),(function(t){401===t.response.status&&(E.show(de[o].errorAuth),setTimeout((function(){e(H())}),1500)),N(!1)}))}),[a,i]),Object(s.useEffect)((function(){if(null!==b)for(var e=document.querySelectorAll(".time-status svg.notOpened"),t=0;t<e.length;t++)e[t].className.baseVal="opened"}),[b]);var y=Object(s.useState)(""),C=Object(l.a)(y,2),S=C[0],A=C[1],_=Object(s.useState)(""),k=Object(l.a)(_,2),I=k[0],T=k[1];return Object(s.useEffect)((function(){var e=new Date;e.setDate(e.getDate()-1),e=le(e),T(e),A(le())}),[]),Object(j.jsxs)("div",{className:"chat",children:[n[a].deleted&&Object(j.jsx)("div",{className:"date",children:Object(j.jsxs)("span",{children:[n[a].name," ",de[o].deletedNotification]})}),h&&h.map((function(e,t){return Object(j.jsxs)("div",{className:"message-block ".concat(r===e.owner?"message-out":"message-in"),children:[Object(j.jsx)("div",{className:"message",children:Object(j.jsxs)("div",{className:"text-block",children:[Object(j.jsx)("div",{className:"text",children:e.text}),Object(j.jsxs)("div",{className:"time-status",children:[e.time.split(" ")[1],Object(j.jsx)("svg",{className:"none"!==e._id?e.status?"opened":"":"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 15",width:"16",height:"15",children:Object(j.jsx)("path",{fill:"currentColor",d:"M15.01 3.316l-.478-.372a.365.365 0 0 0-.51.063L8.666 9.879a.32.32 0 0 1-.484.033l-.358-.325a.319.319 0 0 0-.484.032l-.378.483a.418.418 0 0 0 .036.541l1.32 1.266c.143.14.361.125.484-.033l6.272-8.048a.366.366 0 0 0-.064-.512zm-4.1 0l-.478-.372a.365.365 0 0 0-.51.063L4.566 9.879a.32.32 0 0 1-.484.033L1.891 7.769a.366.366 0 0 0-.515.006l-.423.433a.364.364 0 0 0 .006.514l3.258 3.185c.143.14.361.125.484-.033l6.272-8.048a.365.365 0 0 0-.063-.51z"})})]})]})}),Object(j.jsx)("svg",{className:"triangle",id:"82734756-3615-4ec8-a382-6c6e9d1975af","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 67.96699 58.57164",children:Object(j.jsx)("path",{className:"0082bf7a-a2e0-46d1-be00-84645c2dcbc6",d:"M280.49486,515.96866l-44.88734,15.11513a.69234.69234,0,0,1-.221.03621H214.69244A.69245.69245,0,0,1,214,530.42756V515.31243a.69244.69244,0,0,1,.69244-.69243h65.58144A.69243.69243,0,0,1,280.49486,515.96866Z",transform:"translate(-213.5 -514.12)"})})]},t+e._id)})),!w&&p.map((function(e){return e.msg.map((function(t,a){return Object(j.jsxs)("div",{children:[a===e.msg.length-1&&Object(j.jsx)("div",{className:"date",children:Object(j.jsx)("span",{children:S===t.time.split(" ")[0]?de[o].today:t.time.split(" ")[0]===I?de[o].yesterday:t.time.split(" ")[0]})}),Object(j.jsxs)("div",{className:"message-block ".concat(r===t.owner?"message-out":"message-in"),children:[Object(j.jsx)("div",{className:"message",children:Object(j.jsxs)("div",{className:"text-block",children:[Object(j.jsx)("div",{className:"text",children:t.text}),Object(j.jsxs)("div",{className:"time-status",children:[t.time.split(" ")[1],Object(j.jsx)("svg",{className:t.status?"opened":"notOpened",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 15",width:"16",height:"15",children:Object(j.jsx)("path",{fill:"currentColor",d:"M15.01 3.316l-.478-.372a.365.365 0 0 0-.51.063L8.666 9.879a.32.32 0 0 1-.484.033l-.358-.325a.319.319 0 0 0-.484.032l-.378.483a.418.418 0 0 0 .036.541l1.32 1.266c.143.14.361.125.484-.033l6.272-8.048a.366.366 0 0 0-.064-.512zm-4.1 0l-.478-.372a.365.365 0 0 0-.51.063L4.566 9.879a.32.32 0 0 1-.484.033L1.891 7.769a.366.366 0 0 0-.515.006l-.423.433a.364.364 0 0 0 .006.514l3.258 3.185c.143.14.361.125.484-.033l6.272-8.048a.365.365 0 0 0-.063-.51z"})})]})]})}),Object(j.jsx)("svg",{className:"triangle",id:"82734756-3615-4ec8-a382-6c6e9d1975af","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 67.96699 58.57164",children:Object(j.jsx)("path",{className:"0082bf7a-a2e0-46d1-be00-84645c2dcbc6",d:"M280.49486,515.96866l-44.88734,15.11513a.69234.69234,0,0,1-.221.03621H214.69244A.69245.69245,0,0,1,214,530.42756V515.31243a.69244.69244,0,0,1,.69244-.69243h65.58144A.69243.69243,0,0,1,280.49486,515.96866Z",transform:"translate(-213.5 -514.12)"})})]},a+t.id)]},t.id)}))})),w&&Object(j.jsx)("div",{className:"loadingChatBlock",children:Object(j.jsx)("div",{className:"spinner spinner-1"})})]})},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=e.getDate();t<10&&(t="0"+t);var a=e.getMonth()+1;a<10&&(a="0"+a);var n=e.getFullYear();return"".concat(t,"/").concat(a,"/").concat(n)},de={LV:{deletedNotification:"IZDZ\u0112SA \u0160O T\u0112RZ\u0112\u0160ANU - J\u016aS NEVARAT S\u016aTIT ZI\u0145OJUMUS",today:"\u0160ODIEN",yesterday:"VAKAR",ok:"OK",cancel:"ATCELT",error:"K\u013c\u016bda",errorAuth:"Autoriz\u0101cijas periods ir beidzies"},RU:{deletedNotification:"\u0423\u0414\u0410\u041b\u0418\u041b \u042d\u0422\u041e\u0422 \u0427\u0410\u0422 - \u0412\u042b \u041d\u0415 \u041c\u041e\u0416\u0415\u0422\u0415 \u041e\u0422\u041f\u0420\u0410\u0412\u041b\u042f\u0422\u042c \u0421\u041e\u041e\u0411\u0429\u0415\u041d\u0418\u042f",today:"\u0421\u0415\u0413\u041e\u0414\u041d\u042f",yesterday:"\u0412\u0427\u0415\u0420\u0410",ok:"OK",cancel:"\u041e\u0422\u041c\u0415\u041d\u0410",error:"\u041e\u0448\u0438\u0431\u043a\u0430",errorAuth:"\u0418\u0441\u0442\u0435\u043a \u0441\u0440\u043e\u043a \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438"},EN:{deletedNotification:"DELETED THIS CHAT - YOU CAN'T SEND MESSAGES",today:"TODAY",yesterday:"YESTERDAY",ok:"OK",cancel:"CANCEL",error:"Error",errorAuth:"Authorization period expired"}},ue=function(){var e=Object(d.b)(),t=Object(se.d)(),a=Object(d.c)((function(e){return e.user.userData})),n=a.token,c=a.language,i=Object(d.c)((function(e){return e.user})).infoAboutUser,r=Object(s.useState)([]),o=Object(l.a)(r,2),u=o[0],h=o[1];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"search",children:Object(j.jsx)("div",{className:"box",children:Object(j.jsxs)("div",{className:"input-box",children:[Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:Object(j.jsx)("path",{fill:"currentColor",d:"M15.009 13.805h-.636l-.22-.219a5.184 5.184 0 0 0 1.256-3.386 5.207 5.207 0 1 0-5.207 5.208 5.183 5.183 0 0 0 3.385-1.255l.221.22v.635l4.004 3.999 1.194-1.195-3.997-4.007zm-4.808 0a3.605 3.605 0 1 1 0-7.21 3.605 3.605 0 0 1 0 7.21z"})}),Object(j.jsx)("input",{onChange:function(a){var s;(s=a.target.value).length>1&&O.a.post("/api/user/find",{telephone:s},{headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){h(e.data)}),(function(a){401===a.response.status?(t.show(je[c].errorAuth),setTimeout((function(){e(H())}),1500)):t.show(je[c].error)}))},type:"text",placeholder:je[c].inputPlaceholder})]})})}),Object(j.jsx)("div",{className:"dialogs",children:u.map((function(t,a){return Object(j.jsxs)("div",{onClick:function(){var a;(a=t._id)!==i.id&&e(Z({bool:!0,id:a}))},className:"dialog",children:[Object(j.jsx)(ee.a,{cloudName:"artemijss",publicId:t.photo?t.photo:"tkixqcinuntqmalr2dej",crop:"scale"}),Object(j.jsx)("div",{className:"details",children:Object(j.jsx)("div",{className:"dialog-info1",children:Object(j.jsxs)("div",{className:"dialog-name big-text",children:[t.name," ",t.telephone]})})})]},t._id+a)}))})]})},je={LV:{inputPlaceholder:"S\u0101kt jaunu dialogu - ievadiet t\u0101lruni",ok:"OK",cancel:"ATCELT",error:"K\u013c\u016bda",errorAuth:"Autoriz\u0101cijas periods ir beidzies"},RU:{inputPlaceholder:"\u041d\u0430\u0447\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0434\u0438\u0430\u043b\u043e\u0433 - \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043b\u0435\u0444\u043e\u043d",ok:"OK",cancel:"\u041e\u0422\u041c\u0415\u041d\u0410",error:"\u041e\u0448\u0438\u0431\u043a\u0430",errorAuth:"\u0418\u0441\u0442\u0435\u043a \u0441\u0440\u043e\u043a \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438"},EN:{inputPlaceholder:"Start new dialog - enter telephone",ok:"OK",cancel:"CANCEL",error:"Error",errorAuth:"Authorization period expired"}},he=a(37),be=a.n(he),ge=a(57),Oe=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.user.userData})),a=t.name,n=t.description,c=t.token,i=t.photo,r=t.telephone,o=t.language,u=Object(s.useState)(!0),h=Object(l.a)(u,2),b=h[0],g=h[1],m=Object(s.useState)(!0),p=Object(l.a)(m,2),x=p[0],f=p[1],v=Object(s.useState)(a),w=Object(l.a)(v,2),N=w[0],E=w[1],y=Object(s.useState)(n),C=Object(l.a)(y,2),S=C[0],A=C[1],_=Object(s.useState)(!1),k=Object(l.a)(_,2),I=k[0],T=k[1],L=Object(se.d)(),D=Object(s.useRef)(),z=function(){var t=Object(ge.a)(be.a.mark((function t(a){return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:O.a.post("/api/user/updateImage",{img:a},{headers:{Authorization:"Bearer ".concat(c)}}).then((function(t){e({type:"USER_UPDATE_PHOTO",payload:t.data.photo}),L.success(me[o].photoWasChanged),T(!1)}),(function(t){401===t.response.status?(L.show(me[o].errorAuth),setTimeout((function(){e(H())}),1500)):(L.show(me[o].error),T(!1))}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"profile",children:[Object(j.jsxs)("div",{className:"image",children:[Object(j.jsx)("input",{ref:D,onChange:function(e){var t=e.target.files[0];if(!t)return!1;T(!0);var a=new FileReader;a.readAsDataURL(t),a.onloadend=function(){z(a.result)}},style:{display:"none"},type:"file",accept:"image/*"}),Object(j.jsx)("div",{onClick:function(){return D.current.click()},className:"changePhoto",children:Object(j.jsx)("span",{children:me[o].changePhoto})}),Object(j.jsx)(ee.a,{cloudName:"artemijss",publicId:i||"tkixqcinuntqmalr2dej"}),I&&Object(j.jsx)("div",{className:"loadingChatBlock",children:Object(j.jsx)("div",{className:"spinner spinner-1"})})]}),Object(j.jsxs)("div",{className:"name",children:[Object(j.jsx)("span",{children:me[o].name}),Object(j.jsxs)("div",{className:b?"update":" update borderBottom",children:[Object(j.jsx)("input",{id:"nameInput",onChange:function(e){E(e.target.value)},type:"text",defaultValue:a,readOnly:b}),b?Object(j.jsx)("div",{onClick:function(){g(!1)},children:Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:Object(j.jsx)("path",{fill:"currentColor",d:"M3.95 16.7v3.4h3.4l9.8-9.9-3.4-3.4-9.8 9.9zm15.8-9.1c.4-.4.4-.9 0-1.3l-2.1-2.1c-.4-.4-.9-.4-1.3 0l-1.6 1.6 3.4 3.4 1.6-1.6z"})})}):Object(j.jsx)("div",{onClick:function(){g(!0),N!==a&&O.a.post("/api/user/updateName",{name:N},{headers:{Authorization:"Bearer ".concat(c)}}).then((function(t){e(function(e){return{type:"USER_UPDATE_NAME",payload:e}}(t.data.name)),L.success(me[o].nameWasChanged)}),(function(t){401===t.response.status?(L.show(me[o].errorAuth),setTimeout((function(){e(H())}),1500)):(L.show(me[o].namCanNotBeEmpty),document.getElementById("nameInput").value=a)}))},children:Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:Object(j.jsx)("path",{fill:"currentColor",d:"M9 17.2l-4-4-1.4 1.3L9 19.9 20.4 8.5 19 7.1 9 17.2z"})})})]})]}),Object(j.jsx)("div",{className:"info"}),Object(j.jsxs)("div",{className:"about",children:[Object(j.jsx)("span",{children:me[o].about}),Object(j.jsxs)("div",{className:x?"update":" update borderBottom",children:[Object(j.jsx)("input",{id:"aboutInput",onChange:function(e){A(e.target.value)},type:"text",defaultValue:n,placeholder:me[o].aboutPlaceholder,readOnly:x}),x?Object(j.jsx)("div",{onClick:function(){f(!1)},children:Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:Object(j.jsx)("path",{fill:"currentColor",d:"M3.95 16.7v3.4h3.4l9.8-9.9-3.4-3.4-9.8 9.9zm15.8-9.1c.4-.4.4-.9 0-1.3l-2.1-2.1c-.4-.4-.9-.4-1.3 0l-1.6 1.6 3.4 3.4 1.6-1.6z"})})}):Object(j.jsx)("div",{onClick:function(){f(!0),S!==n&&O.a.post("/api/user/updateAbout",{about:S},{headers:{Authorization:"Bearer ".concat(c)}}).then((function(t){e({type:"USER_UPDATE_ABOUT",payload:t.data.about}),L.success(me[o].aboutWasChanged)}),(function(t){401===t.response.status?(L.show(me[o].errorAuth),setTimeout((function(){e(H())}),1500)):(L.show(me[o].error),document.getElementById("aboutInput").value=n)}))},children:Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:Object(j.jsx)("path",{fill:"currentColor",d:"M9 17.2l-4-4-1.4 1.3L9 19.9 20.4 8.5 19 7.1 9 17.2z"})})})]})]}),Object(j.jsx)("div",{className:"info"}),Object(j.jsxs)("div",{className:"about",children:[Object(j.jsx)("span",{children:me[o].telephone}),Object(j.jsx)("div",{className:"update",children:Object(j.jsx)("div",{id:"tel",style:{fontSize:"18px"},children:r})})]})]})},me={LV:{aboutWasChanged:"Apraksts tika main\u012bts",nameWasChanged:"V\u0101rds/Uzv\u0101rds tika main\u012bts",namCanNotBeEmpty:"V\u0101rds nevar b\u016bt tuk\u0161s",photoWasChanged:"Foto tika main\u012bts",changePhoto:"Main\u012bt bildi",name:"V\u0101rds Uzv\u0101rds",about:"Apraksts",aboutPlaceholder:"ievadiet par sevi",telephone:"T\u0101lrunis",ok:"OK",cancel:"ATCELT",error:"K\u013c\u016bda",errorAuth:"Autoriz\u0101cijas periods ir beidzies"},RU:{aboutWasChanged:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0431\u044b\u043b\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u043e",nameWasChanged:"\u0418\u043c\u044f/\u0424\u0430\u043c\u0438\u043b\u0438\u044f \u0431\u044b\u043b\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0430",namCanNotBeEmpty:"\u0418\u043c\u044f \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c",photoWasChanged:"\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f \u0431\u044b\u043b\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0430",changePhoto:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044e",name:"\u0418\u043c\u044f \u0424\u0430\u043c\u0438\u043b\u0438\u044f",about:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",aboutPlaceholder:"\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043e \u0441\u0435\u0431\u0435",telephone:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",ok:"OK",cancel:"\u041e\u0422\u041c\u0415\u041d\u0410",error:"\u041e\u0448\u0438\u0431\u043a\u0430",errorAuth:"\u0418\u0441\u0442\u0435\u043a \u0441\u0440\u043e\u043a \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438"},EN:{aboutWasChanged:"Description was changed",nameWasChanged:"Name/Surname was changed",namCanNotBeEmpty:"Name cannot be empty",photoWasChanged:"Photo was changed",changePhoto:"Change photo",name:"Name surname",about:"About",aboutPlaceholder:"enter about yourself",telephone:"Telephone",ok:"OK",cancel:"CANCEL",error:"Error",errorAuth:"Authorization period expired"}},pe=function(){var e=Object(se.d)(),t=Object(d.b)(),a=Object(d.c)((function(e){return e.dialog})),n=a.dialogs,c=a.activeDialog,i=Object(d.c)((function(e){return e.user})),r=i.infoAboutUser,o=i.userData,u=Object(d.c)((function(e){e.user;return o})),h=u.token,b=u.language,g=Object(s.useState)(""),m=Object(l.a)(g,2),p=m[0],x=m[1],f=Object(s.useState)(""),v=Object(l.a)(f,2),w=v[0],N=v[1],E=Object(s.useState)(""),y=Object(l.a)(E,2),C=y[0],S=y[1],A=Object(s.useState)(""),_=Object(l.a)(A,2),k=_[0],I=_[1],T=Object(s.useState)(""),L=Object(l.a)(T,2),M=L[0],U=L[1],P=Object(s.useState)(""),R=Object(l.a)(P,2),G=R[0],V=R[1],F=Object(s.useState)(!0),W=Object(l.a)(F,2),q=W[0],Y=W[1];Object(s.useEffect)((function(){r.id?(Y(!0),O.a.get("/api/user/find/".concat(r.id),{headers:{Authorization:"Bearer ".concat(h)}}).then((function(e){x(e.data.name),S(e.data.status),N(e.data.photo),I(e.data.telephone),U(e.data.email),V(e.data.description),Y(!1)}),(function(a){401===a.response.status?(e.show(xe[b].errorAuth),setTimeout((function(){t(H())}),1500)):(Y(!1),e.show(xe[b].error))}))):(c&&(x(n[c].name),S(n[c].status),N(n[c].photo),I(n[c].telephone),U(n[c].email),V(n[c].description)),Y(!1))}),[r]);var J=function(){Y(!0),t(function(e,t){return function(a){return O.a.post("/api/dialog/new",{userId:t},{headers:{Authorization:"Bearer ".concat(e)}}).then((function(t){a(z(e)).then((function(){a(B(t.data))})),D.emit("newDialog",t.data)}),(function(){return-1}))}}(h,r.id)).then((function(a){Y(!1),-1===a&&e.show(xe[b].error),t(Z({bool:!1,id:null}))}))};return Object(j.jsxs)("div",{className:"userInfo",children:[Object(j.jsxs)("div",{className:"box-header",children:[Object(j.jsx)("svg",{onClick:function(){return t(Z({bool:!1,id:null}))},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:Object(j.jsx)("path",{fill:"currentColor",d:"M19.1 17.2l-5.3-5.3 5.3-5.3-1.8-1.8-5.3 5.4-5.3-5.3-1.8 1.7 5.3 5.3-5.3 5.3L6.7 19l5.3-5.3 5.3 5.3 1.8-1.8z"})}),Object(j.jsx)("div",{className:"title",children:xe[b].profileInfo})]}),!q&&Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"user",children:[Object(j.jsxs)("div",{className:"info",children:[Object(j.jsx)("div",{style:{width:"200px"},children:Object(j.jsx)(ee.a,{cloudName:"artemijss",publicId:w||"tkixqcinuntqmalr2dej"})}),Object(j.jsx)("div",{className:"name",style:c?n[c].deleted&&{color:"rgb(214,48,46)"}:{},children:p}),Object(j.jsx)("div",{className:"status",style:c?n[c].deleted&&{color:"rgb(214,48,46)"}:{},children:c&&n[c].deleted?xe[b].deleted:C?xe[b].online:xe[b].offline})]}),!n[r.dialogId]&&Object(j.jsxs)("div",{onClick:function(){J()},className:"button",style:{marginBottom:"28px"},children:[Object(j.jsx)("svg",{className:"salat",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:Object(j.jsx)("path",{fill:"currentColor",d:"M9 17.2l-4-4-1.4 1.3L9 19.9 20.4 8.5 19 7.1 9 17.2z"})}),Object(j.jsx)("div",{className:"flex1 paddingLeft20 salat bold",children:xe[b].addToFriends})]}),Object(j.jsxs)("div",{style:c?n[c].deleted&&{display:"none"}:{},className:"about",children:[Object(j.jsx)("span",{children:xe[b].telephone}),Object(j.jsx)("div",{children:k})]}),Object(j.jsxs)("div",{style:c?n[c].deleted&&{display:"none"}:{},className:"about",children:[Object(j.jsx)("span",{children:"Email"}),Object(j.jsx)("div",{children:M})]}),Object(j.jsxs)("div",{style:c?n[c].deleted&&{display:"none"}:{},className:"about",children:[Object(j.jsx)("span",{children:xe[b].about}),Object(j.jsx)("div",{children:G||xe[b].none})]}),n[r.dialogId]&&Object(j.jsxs)("div",{onClick:function(){if(!window.confirm(xe[b].sure))return!1;Y(!0),t(function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return function(n){return O.a.post("/api/dialog/delete",{dialogId:e,id:a},{headers:{Authorization:"Bearer ".concat(t)}}).then((function(){D.emit("dialogDelete",e,a),n(B("")),n(K(e))}))}}(r.dialogId,h,r.id)).then((function(){Y(!1),t(Z({bool:!1,id:null}))}))},className:"button",children:[Object(j.jsx)("svg",{className:"red",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:Object(j.jsx)("path",{fill:"currentColor",d:"M6 18c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V6H6v12zM19 3h-3.5l-1-1h-5l-1 1H5v2h14V3z"})}),Object(j.jsx)("div",{className:"flex1 paddingLeft20 red bold",children:xe[b].deleteChat})]})]})}),q&&Object(j.jsx)("div",{className:"loadingChatBlock",children:Object(j.jsx)("div",{className:"spinner spinner-1"})})]})},xe={LV:{profileInfo:"Profila inform\u0101cija",addToFriends:"Pievienot draugiem",deleteChat:"Dz\u0113st t\u0113rz\u0113\u0161anu",sure:"Vai j\u016bs to tie\u0161am gribat?",name:"V\u0101rds Uzv\u0101rds",about:"Apraksts",telephone:"T\u0101lrunis",deleted:"DZ\u0112STS",online:"online",offline:"offline",ok:"OK",cancel:"ATCELT",error:"K\u013c\u016bda",none:"nav",errorAuth:"Autoriz\u0101cijas periods ir beidzies"},RU:{profileInfo:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043f\u0440\u043e\u0444\u0438\u043b\u0435",addToFriends:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0434\u0440\u0443\u0437\u044c\u044f",deleteChat:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0427\u0430\u0442",sure:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",name:"\u0418\u043c\u044f \u0424\u0430\u043c\u0438\u043b\u0438\u044f",about:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",telephone:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",deleted:"\u0423\u0414\u0410\u041b\u0415\u041d",online:"\u0432 \u0441\u0435\u0442\u0438",offline:"\u043d\u0435 \u0432 \u0441\u0435\u0442\u0438",ok:"OK",cancel:"\u041e\u0422\u041c\u0415\u041d\u0410",error:"\u041e\u0448\u0438\u0431\u043a\u0430",none:"\u043f\u0443\u0441\u0442\u043e",errorAuth:"\u0418\u0441\u0442\u0435\u043a \u0441\u0440\u043e\u043a \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438"},EN:{profileInfo:"Profile Info",addToFriends:"Add to friends",deleteChat:"Delete Chat",sure:"Are you sure?",name:"Name Surname",about:"About",telephone:"Telephone",deleted:"DELETED",online:"online",offline:"offline",ok:"OK",cancel:"CANCEL",error:"Error",none:"none",errorAuth:"Authorization period expired"}},fe=a(18),ve=a.p+"static/media/image.3970fa28.png";var we=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.dialog})),a=t.dialogs,n=t.activeDialog,c=t.dialogsOrder,i=Object(d.c)((function(e){return e.user.userData})),r=i.token,o=i.userId,b=i.role,g=i.photo,m=i.language,p=Object(d.c)((function(e){return e.user})),x=p.infoAboutUser,f=p.dialogSearch,v=Object(se.d)(),w=Object(s.useState)(!1),N=Object(l.a)(w,2),E=N[0],y=N[1],C=Object(s.useState)(!1),S=Object(l.a)(C,2),A=S[0],_=S[1],k=Object(s.useState)(!1),I=Object(l.a)(k,2),L=I[0],z=I[1],M=Object(s.useState)(x.bool),B=Object(l.a)(M,2),U=B[0],P=B[1],V=Object(s.useState)(m),K=Object(l.a)(V,2),W=K[0],q=K[1],Y=Object(s.useState)(""),J=Object(l.a)(Y,2),$=J[0],ae=J[1],ne=Object(s.useState)(!1),ie=Object(l.a)(ne,2),re=ie[0],le=ie[1],de=Object(s.useRef)(),je=Object(s.useRef)();Object(s.useEffect)((function(){y(!1),e({type:"MESSAGES_NEW_DELETE"}),n&&(a[n].deleted||a[n].dialog.last_message_owner===o||D.emit("messageAllStatus",{dialogId:n,id:o}),a[n].dialog.last_message_owner!==o&&e(F(n)))}),[n]),Object(s.useEffect)((function(){x.bool?P(!0):P(!1)}),[x]);var he=function(e){e.composedPath().includes(de.current)||e.composedPath().includes(je.current)||le(!1)};Object(s.useEffect)((function(){return document.body.addEventListener("click",he),function(){document.body.removeEventListener("click",he)}}),[]);var be=function(t){if(t.preventDefault(),document.querySelector("#sendMessageInput").value="",a[n].deleted)return v.show(Ee[m].errorMsgDel),!1;var s={recipient:a[n].id,text:$,dialogId:n};if(!$)return v.show(Ee[m].errorMsgEnter),!1;O.a.post("/api/message/new",s,{headers:{Authorization:"Bearer ".concat(r)}}).then((function(e){D.emit("newMessage",e.data)}),(function(t){401===t.response.status?(v.show(Ee[m].errorAuth),setTimeout((function(){e(H())}),1500)):v.show(Ee[m].errorMsg)}));var i=Ne(),l={_id:"none",text:$,owner:o,recipient:a[n].id,time:i,status:!1,dialogId:n};e(T(l)),e(R(n,l)),c[0]!==n&&e(G(n)),ae("")},ge=function(){e(Z({bool:!0,id:a[n].id,dialogId:n})),P(!0)};return Object(j.jsxs)("div",{children:[Object(j.jsx)(u.a,{children:Object(j.jsx)("title",{children:"Live Chat"})}),Object(j.jsx)(h,{}),L&&Object(j.jsx)("div",{className:"language",children:Object(j.jsx)("div",{className:"rel-block",children:Object(j.jsxs)("div",{className:"box-choose",children:[Object(j.jsx)("div",{className:"heading",children:Ee[m].languageBox.heading}),Object(j.jsxs)("div",{className:"choose",children:[Object(j.jsxs)("label",{children:[Object(j.jsx)("input",{name:"lan",value:"LV",onChange:function(e){q(e.target.value)},type:"radio",defaultChecked:"LV"===m}),"LV"]}),Object(j.jsxs)("label",{children:[Object(j.jsx)("input",{name:"lan",value:"RU",onChange:function(e){q(e.target.value)},type:"radio",defaultChecked:"RU"===m}),"RU"]}),Object(j.jsxs)("label",{children:[Object(j.jsx)("input",{name:"lan",value:"EN",onChange:function(e){q(e.target.value)},type:"radio",defaultChecked:"EN"===m}),"EN"]})]}),Object(j.jsxs)("div",{className:"bottom",children:[Object(j.jsx)("div",{className:"ok",onClick:function(){m!==W&&O.a.post("/api/user/updateLanguage",{language:W},{headers:{Authorization:"Bearer ".concat(r)}}).then((function(t){e(Q(t.data.language)),v.success(Ee[W].languageBox.notification),z(!1)}),(function(t){401===t.response.status?(v.show(Ee[m].errorAuth),setTimeout((function(){e(H())}),1500)):v.show(Ee[m].error)}))},children:Ee[m].ok}),Object(j.jsx)("div",{className:"cancel",onClick:function(){z(!1)},children:Ee[m].cancel})]})]})})}),Object(j.jsx)("div",{className:"all-screen",children:Object(j.jsx)("div",{className:"main-box",children:Object(j.jsxs)("div",{className:"whats-app",children:[Object(j.jsxs)("div",{className:"side-bar",children:[E&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"find-header",children:Object(j.jsxs)("div",{className:"box",children:[Object(j.jsx)("div",{className:"back",children:Object(j.jsx)("svg",{onClick:function(){y(!1)},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:Object(j.jsx)("path",{fill:"currentColor",d:"M12 4l1.4 1.4L7.8 11H20v2H7.8l5.6 5.6L12 20l-8-8 8-8z"})})}),Object(j.jsx)("div",{className:"big-text",children:Ee[m].newChat})]})}),Object(j.jsx)(ue,{})]}),A&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"find-header",children:Object(j.jsxs)("div",{className:"box",children:[Object(j.jsx)("div",{className:"back",children:Object(j.jsx)("svg",{onClick:function(){_(!1)},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:Object(j.jsx)("path",{fill:"currentColor",d:"M12 4l1.4 1.4L7.8 11H20v2H7.8l5.6 5.6L12 20l-8-8 8-8z"})})}),Object(j.jsx)("div",{className:"big-text",children:Ee[m].profile})]})}),Object(j.jsx)(Oe,{})]}),!E&&!A&&Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{className:"box-header",children:[Object(j.jsx)(ee.a,{onClick:function(){return _(!0)},cloudName:"artemijss",publicId:g||"tkixqcinuntqmalr2dej"}),Object(j.jsxs)("div",{className:"settings",children:[Object(j.jsx)("svg",{id:"ee51d023-7db6-4950-baf7-c34874b80976",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:Object(j.jsx)("path",{fill:"currentColor",d:"M12 20.664a9.163 9.163 0 0 1-6.521-2.702.977.977 0 0 1 1.381-1.381 7.269 7.269 0 0 0 10.024.244.977.977 0 0 1 1.313 1.445A9.192 9.192 0 0 1 12 20.664zm7.965-6.112a.977.977 0 0 1-.944-1.229 7.26 7.26 0 0 0-4.8-8.804.977.977 0 0 1 .594-1.86 9.212 9.212 0 0 1 6.092 11.169.976.976 0 0 1-.942.724zm-16.025-.39a.977.977 0 0 1-.953-.769 9.21 9.21 0 0 1 6.626-10.86.975.975 0 1 1 .52 1.882l-.015.004a7.259 7.259 0 0 0-5.223 8.558.978.978 0 0 1-.955 1.185z"})}),0===c.length&&Object(j.jsx)("div",{className:"noDialogsNotification"}),Object(j.jsx)("svg",{onClick:function(){y(!0)},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:Object(j.jsx)("path",{fill:"currentColor",d:"M19.005 3.175H4.674C3.642 3.175 3 3.789 3 4.821V21.02l3.544-3.514h12.461c1.033 0 2.064-1.06 2.064-2.093V4.821c-.001-1.032-1.032-1.646-2.064-1.646zm-4.989 9.869H7.041V11.1h6.975v1.944zm3-4H7.041V7.1h9.975v1.944z"})}),Object(j.jsx)("svg",{ref:je,className:re?"active":"",onClick:function(){le(!re)},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:Object(j.jsx)("path",{fill:"currentColor",d:"M12 7a2 2 0 1 0-.001-4.001A2 2 0 0 0 12 7zm0 2a2 2 0 1 0-.001 3.999A2 2 0 0 0 12 9zm0 6a2 2 0 1 0-.001 3.999A2 2 0 0 0 12 15z"})}),re&&Object(j.jsxs)("div",{className:"settingsPopUp",ref:de,children:[Object(j.jsx)("div",{className:"settingsLink",onClick:function(){_(!0),le(!1)},children:Object(j.jsx)("div",{children:Ee[m].profile})}),Object(j.jsx)("div",{className:"settingsLink",onClick:function(){},children:Object(j.jsx)("div",{children:"DEV"})}),Object(j.jsx)("div",{className:"settingsLink",onClick:function(){z(!0),le(!1)},children:Object(j.jsx)("div",{children:Ee[m].language})}),Object(j.jsx)("div",{className:"settingsLink",onClick:function(){e(H())},children:Object(j.jsx)("div",{children:Ee[m].logout})})]})]}),"admin"===b&&Object(j.jsx)(fe.b,{to:"/admin",children:"AdminPanel"})]}),Object(j.jsx)(X,{}),f?Object(j.jsx)(ce,{}):Object(j.jsx)(te,{})]})]}),n&&Object(j.jsxs)("div",{className:"chat-bar",children:[Object(j.jsxs)("div",{className:"box-header",children:[Object(j.jsx)("div",{className:"padding",children:Object(j.jsx)(ee.a,{onClick:function(){return ge()},cloudName:"artemijss",publicId:a[n].photo?a[n].photo:"tkixqcinuntqmalr2dej",crop:"scale"})}),Object(j.jsxs)("div",{onClick:function(){return ge()},className:"dialog-info",children:[Object(j.jsx)("div",{className:a[n].deleted?"dialog-name red":"dialog-name",children:a[n].name}),Object(j.jsx)("div",{className:"last-time-seen",style:a[n].deleted&&{color:"rgb(214,48,46)"},children:a[n].deleted?Ee[m].deleted:a[n].status?Ee[m].online:Ee[m].offline})]}),Object(j.jsxs)("div",{className:"settings",children:[Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:Object(j.jsx)("path",{fill:"currentColor",d:"M15.9 14.3H15l-.3-.3c1-1.1 1.6-2.7 1.6-4.3 0-3.7-3-6.7-6.7-6.7S3 6 3 9.7s3 6.7 6.7 6.7c1.6 0 3.2-.6 4.3-1.6l.3.3v.8l5.1 5.1 1.5-1.5-5-5.2zm-6.2 0c-2.6 0-4.6-2.1-4.6-4.6s2.1-4.6 4.6-4.6 4.6 2.1 4.6 4.6-2 4.6-4.6 4.6z"})}),Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:Object(j.jsx)("path",{fill:"currentColor",d:"M12 7a2 2 0 1 0-.001-4.001A2 2 0 0 0 12 7zm0 2a2 2 0 1 0-.001 3.999A2 2 0 0 0 12 9zm0 6a2 2 0 1 0-.001 3.999A2 2 0 0 0 12 15z"})})]})]}),Object(j.jsx)(oe,{}),Object(j.jsx)("div",{className:"footer",children:Object(j.jsx)("div",{className:"box",children:Object(j.jsxs)("form",{onSubmit:be,className:"input-box",children:[Object(j.jsx)("input",{onChange:function(e){return ae(e.target.value)},id:"sendMessageInput",type:"text",placeholder:Ee[m].enterMessage,disabled:a[n].deleted,autoComplete:"off"}),Object(j.jsx)("svg",{role:"button",onClick:be,type:"submit",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:Object(j.jsx)("path",{fill:"currentColor",d:"M1.101 21.757L23.8 12.028 1.101 2.3l.011 7.912 13.623 1.816-13.623 1.817-.011 7.912z"})})]})})})]}),!n&&!U&&Object(j.jsx)("div",{className:"chat-bar",children:Object(j.jsxs)("div",{className:"empty-bar",children:[Object(j.jsx)("img",{src:ve,alt:"img"}),Object(j.jsx)("div",{children:"LiveChat"})]})}),U&&Object(j.jsx)(pe,{})]})})})]})},Ne=function(){var e=new Date,t=e.getDate();t<10&&(t="0"+t);var a=e.getMonth()+1;a<10&&(a="0"+a);var n=e.getFullYear(),s=e.getHours();s<10&&(s="0"+s);var c=e.getMinutes();c<10&&(c="0"+c);var i=e.getSeconds();return i<10&&(i="0"+i),"".concat(t,"/").concat(a,"/").concat(n," ").concat(s,":").concat(c," ").concat(i)},Ee={LV:{languageBox:{notification:"Valoda it nomain\u012bta",heading:"Izv\u0113lieties valodu"},newChat:"Jauna t\u0113rz\u0113\u0161ana",profile:"Profils",language:"Valoda",logout:"Iziet",deleted:"DZ\u0112STS",online:"online",offline:"offline",enterMessage:"Ievadiet zi\u0146ojumu",ok:"OK",cancel:"ATCELT",error:"K\u013c\u016bda",errorMsg:"S\u016btot zi\u0146ojumu, rad\u0101s k\u013c\u016bda",errorMsgEnter:"Ievadiet zi\u0146ojuma tekstu",errorMsgDel:"\u0160\u012b t\u0113rz\u0113\u0161ana ir izdz\u0113sta, un j\u016bs nevarat nos\u016bt\u012bt zi\u0146ojumus",errorAuth:"Autoriz\u0101cijas periods ir beidzies"},RU:{languageBox:{notification:"\u042f\u0437\u044b\u043a \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043f\u043e\u043c\u0435\u043d\u044f\u043d",heading:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u044f\u0437\u044b\u043a"},newChat:"\u041d\u043e\u0432\u044b\u0439 \u0447\u0430\u0442",profile:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c",language:"\u042f\u0437\u044b\u043a",logout:"\u0412\u044b\u0439\u0442\u0438",deleted:"\u0423\u0414\u0410\u041b\u0415\u041d",online:"\u0432 \u0441\u0435\u0442\u0438",offline:"\u043d\u0435 \u0432 \u0441\u0435\u0442\u0438",enterMessage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",ok:"OK",cancel:"\u041e\u0422\u041c\u0415\u041d\u0410",error:"\u041e\u0448\u0438\u0431\u043a\u0430",errorMsg:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f",errorMsgEnter:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f",errorMsgDel:"\u042d\u0422\u041e\u0422 \u0427\u0410\u0422 \u0423\u0414\u0410\u041b\u0415\u041d \u0412\u042b \u041d\u0415 \u041c\u041e\u0416\u0415\u0422\u0415 \u041e\u0422\u041f\u0420\u0410\u0412\u041b\u042f\u0422\u042c \u0421\u041e\u041e\u0411\u0429\u0415\u041d\u0418\u042f",errorAuth:"\u0418\u0441\u0442\u0435\u043a \u0441\u0440\u043e\u043a \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438"},EN:{languageBox:{notification:"Language changed",heading:"Select a language"},newChat:"New Chat",profile:"Profile",language:"Language",logout:"Logout",deleted:"DELETED",online:"online",offline:"offline",enterMessage:"Enter a message",ok:"OK",cancel:"CANCEL",error:"Error",errorMsg:"Error with sending message",errorMsgEnter:"Enter the message text",errorMsgDel:"THIS CHAT IS DELETED YOU CANT SEND MESSAGES",errorAuth:"Authorization period expired"}};var ye=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.user.userData})).language,a=Object(se.d)(),c=Object(s.useState)(!1),i=Object(l.a)(c,2),r=i[0],o=i[1],h=Object(s.useState)({email:"",password:"",language:t}),b=Object(l.a)(h,2),g=b[0],O=b[1],m=function(e){O(Object(n.a)(Object(n.a)({},g),{},Object(N.a)({},e.target.name,e.target.value)))};return Object(j.jsxs)("div",{children:[Object(j.jsx)(u.a,{children:Object(j.jsx)("title",{children:Ce[t].title})}),Object(j.jsx)("div",{className:"header bg-overlay"}),Object(j.jsx)("div",{className:"all-screen",children:Object(j.jsx)("div",{className:"main-box",children:Object(j.jsxs)("form",{className:"formLogin",onSubmit:function(t){t.preventDefault(),o(!0),e(q(g,"login")).then((function(e){e&&(o(!1),a.show(e))}))},children:[r?Object(j.jsx)("h1",{children:Ce[t].loading}):Object(j.jsx)("h1",{children:Ce[t].title}),Object(j.jsxs)("div",{className:"text_field",children:[Object(j.jsx)("input",{type:"email",id:"email",name:"email",required:!0,onChange:m}),Object(j.jsx)("span",{}),Object(j.jsx)("label",{htmlFor:"email",children:"E-mail"})]}),Object(j.jsxs)("div",{className:"text_field",children:[Object(j.jsx)("input",{type:"password",id:"pass",name:"password",minLength:"6",required:!0,onChange:m}),Object(j.jsx)("span",{}),Object(j.jsx)("label",{htmlFor:"pass",children:Ce[t].password})]}),Object(j.jsx)("button",{type:"submit",children:Ce[t].login}),Object(j.jsx)(fe.b,{to:"/registration",children:Ce[t].signUp})]})})})]})},Ce={LV:{title:"Piesl\u0113gties",loading:"Iel\u0101d\u0113\u0161ana",password:"Parole",login:"PIESL\u0112GTIES",signUp:"Nav biedrs? Pierakst\u012bties!",ok:"OK",cancel:"ATCELT",error:"K\u013c\u016bda"},RU:{title:"\u0412\u0445\u043e\u0434",loading:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430",password:"\u041f\u0430\u0440\u043e\u043b\u044c",login:"\u0412\u041e\u0419\u0422\u0418",signUp:"\u041d\u0435\u0442 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430? \u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f!",ok:"OK",cancel:"\u041e\u0422\u041c\u0415\u041d\u0410",error:"\u041e\u0448\u0438\u0431\u043a\u0430"},EN:{title:"Login",loading:"Loading",password:"Password",login:"LOGIN",signUp:"Not a member? Sign up!",ok:"OK",cancel:"CANCEL",error:"Error"}};var Se=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.user.userData})).language,a=Object(se.d)(),c=Object(s.useState)(!1),i=Object(l.a)(c,2),r=i[0],o=i[1],h=Object(s.useState)({telephone:"",name:"",email:"",password:"",language:t}),b=Object(l.a)(h,2),g=b[0],O=b[1],m=Object(s.useState)(""),p=Object(l.a)(m,2),x=p[0],f=p[1],v=function(e){O(Object(n.a)(Object(n.a)({},g),{},Object(N.a)({},e.target.name,e.target.value)))};return Object(j.jsxs)("div",{children:[Object(j.jsx)(u.a,{children:Object(j.jsx)("title",{children:Ae[t].title})}),Object(j.jsx)("div",{className:"header bg-overlay"}),Object(j.jsx)("div",{className:"all-screen",children:Object(j.jsx)("div",{className:"main-box",children:Object(j.jsxs)("form",{className:"formLogin",onSubmit:function(t){t.preventDefault(),o(!0),console.log(x),x!==g.password&&(a.show("Passwords not matched"),o(!1)),e(q(g,"register")).then((function(e){e&&(o(!1),a.show(e))}))},children:[r?Object(j.jsx)("h1",{children:Ae[t].loading}):Object(j.jsx)("h1",{children:Ae[t].title}),Object(j.jsxs)("div",{className:"text_field",children:[Object(j.jsx)("input",{type:"tel",id:"telephone",name:"telephone",required:!0,onChange:v}),Object(j.jsx)("span",{}),Object(j.jsx)("label",{htmlFor:"telephone",children:Ae[t].telephone})]}),Object(j.jsxs)("div",{className:"text_field",children:[Object(j.jsx)("input",{type:"tel",id:"name",name:"name",required:!0,onChange:v}),Object(j.jsx)("span",{}),Object(j.jsx)("label",{htmlFor:"name",children:Ae[t].nameSurname})]}),Object(j.jsxs)("div",{className:"text_field",children:[Object(j.jsx)("input",{type:"email",id:"email",name:"email",required:!0,onChange:v}),Object(j.jsx)("span",{}),Object(j.jsx)("label",{htmlFor:"email",children:"E-mail"})]}),Object(j.jsxs)("div",{className:"text_field",children:[Object(j.jsx)("input",{type:"password",id:"password",name:"password",minLength:"6",required:!0,onChange:v}),Object(j.jsx)("span",{}),Object(j.jsx)("label",{htmlFor:"pass",children:Ae[t].password})]}),Object(j.jsxs)("div",{className:"text_field",children:[Object(j.jsx)("input",{type:"password",id:"confirm_password",name:"password",minLength:"6",required:!0,onChange:function(e){f(e.target.value)}}),Object(j.jsx)("span",{}),Object(j.jsx)("label",{htmlFor:"pass",children:Ae[t].confirmPassword})]}),Object(j.jsx)("button",{type:"submit",children:Ae[t].signUp}),Object(j.jsx)(fe.b,{to:"/login",children:Ae[t].login})]})})})]})},Ae={LV:{title:"Re\u0123istr\u0101cija",loading:"Iel\u0101d\u0113\u0161ana",password:"Parole",login:"Jau ir re\u0123istr\u0113ts? Piesl\u0113gties!",signUp:"RE\u0122ISTR\u0112TIES",telephone:"Telefons",nameSurname:"V\u0101rds Uzv\u0101rds",confirmPassword:"Apstipriniet paroli",ok:"OK",cancel:"ATCELT",error:"K\u013c\u016bda"},RU:{title:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f",loading:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430",password:"\u041f\u0430\u0440\u043e\u043b\u044c",login:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d? \u0412\u043e\u0439\u0442\u0438!",signUp:"\u0417\u0410\u0420\u0415\u0413\u0418\u0421\u0422\u0420\u0418\u0420\u041e\u0412\u0410\u0422\u042c\u0421\u042f",telephone:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",nameSurname:"\u0418\u043c\u044f \u0424\u0430\u043c\u0438\u043b\u0438\u044f",confirmPassword:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",ok:"OK",cancel:"\u041e\u0422\u041c\u0415\u041d\u0410",error:"\u041e\u0448\u0438\u0431\u043a\u0430"},EN:{title:"Registration",loading:"Loading",password:"Password",login:"Already registered? Log in!",signUp:"REGISTER",telephone:"Telephone",nameSurname:"Name Surname",confirmPassword:"Confirm password",ok:"OK",cancel:"CANCEL",error:"Error"}},_e=function(){return Object(j.jsxs)("div",{className:"sk-circle",children:[Object(j.jsx)("div",{className:"sk-circle1 sk-child"}),Object(j.jsx)("div",{className:"sk-circle2 sk-child"}),Object(j.jsx)("div",{className:"sk-circle3 sk-child"}),Object(j.jsx)("div",{className:"sk-circle4 sk-child"}),Object(j.jsx)("div",{className:"sk-circle5 sk-child"}),Object(j.jsx)("div",{className:"sk-circle6 sk-child"}),Object(j.jsx)("div",{className:"sk-circle7 sk-child"}),Object(j.jsx)("div",{className:"sk-circle8 sk-child"}),Object(j.jsx)("div",{className:"sk-circle9 sk-child"}),Object(j.jsx)("div",{className:"sk-circle10 sk-child"}),Object(j.jsx)("div",{className:"sk-circle11 sk-child"}),Object(j.jsx)("div",{className:"sk-circle12 sk-child"})]})};var ke=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.user.userData})),a=t.token,c=t.photo,i=t.language,r=Object(se.d)(),o=Object(s.useRef)(),b=Object(s.useState)(!1),g=Object(l.a)(b,2),m=g[0],p=g[1],x=Object(s.useState)(""),f=Object(l.a)(x,2),v=f[0],w=f[1],N=Object(s.useState)(""),E=Object(l.a)(N,2),y=E[0],C=E[1],S=Object(s.useState)([]),A=Object(l.a)(S,2),_=A[0],k=A[1],I=Object(s.useState)({}),T=Object(l.a)(I,2),L=T[0],D=T[1],z=Object(s.useState)(!1),M=Object(l.a)(z,2),B=M[0],U=M[1],P=Object(s.useState)(!1),R=Object(l.a)(P,2),G=R[0],V=R[1],F=Object(s.useState)(!1),K=Object(l.a)(F,2),W=K[0],q=K[1],Y=Object(s.useState)(i),J=Object(l.a)(Y,2),Z=J[0],X=J[1],$=Object(s.useState)(!1),te=Object(l.a)($,2),ae=te[0],ne=te[1],ce=Object(s.useState)(!0),ie=Object(l.a)(ce,2),re=ie[0],oe=ie[1],le=Object(s.useState)(!0),de=Object(l.a)(le,2),ue=de[0],je=de[1],he=Object(s.useState)(!0),Oe=Object(l.a)(he,2),me=Oe[0],pe=Oe[1],xe=Object(s.useState)(!0),ve=Object(l.a)(xe,2),we=ve[0],Ne=ve[1],Ee=Object(s.useState)(""),ye=Object(l.a)(Ee,2),Ce=ye[0],Se=ye[1],Ae=Object(s.useState)(""),_e=Object(l.a)(Ae,2),ke=_e[0],Te=_e[1],Le=Object(s.useState)(""),De=Object(l.a)(Le,2),ze=De[0],Me=De[1],Be=Object(s.useState)(""),Ue=Object(l.a)(Be,2),Pe=Ue[0],Re=Ue[1],Ge=Object(s.useRef)(),Ve=Object(s.useRef)(),Fe=function(e){e.composedPath().includes(Ge.current)||e.composedPath().includes(Ve.current)||ne(!1)};Object(s.useEffect)((function(){return document.body.addEventListener("click",Fe),function(){document.body.removeEventListener("click",Fe)}}),[]),Object(s.useEffect)((function(){v.length>1?(U(!0),O.a.post("/api/user/admin/find",{telephone:v},{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){U(!1),k(e.data)}),(function(){r.show(Ie[i].error)}))):0===v.length&&k([])}),[v]),Object(s.useEffect)((function(){y&&(V(!0),O.a.get("/api/user/find/".concat(y),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){console.log(e.data),D(e.data),Se(e.data.name),Te(e.data.telephone),Re(e.data.description),Me(e.data.email),V(!1)}),(function(){r.show(Ie[i].error)}))),oe(!0),je(!0),Ne(!0),pe(!0)}),[y]);var Ke=function(){var t=Object(ge.a)(be.a.mark((function t(s){return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:O.a.post("/api/user/admin/updateImage",{img:s,id:L._id},{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){D(Object(n.a)(Object(n.a)({},L),{},{photo:e.data.photo})),r.success(Ie[i].photoWasChanged),q(!1)}),(function(t){401===t.response.status?(r.show(Ie[i].errorAuth),setTimeout((function(){e(H())}),1500)):(r.show(Ie[i].error),q(!1))}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(j.jsxs)("div",{children:[Object(j.jsx)(u.a,{children:Object(j.jsx)("title",{children:"Live Chat | Admin"})}),Object(j.jsx)(h,{}),m&&Object(j.jsx)("div",{className:"language",children:Object(j.jsx)("div",{className:"rel-block",children:Object(j.jsxs)("div",{className:"box-choose",children:[Object(j.jsx)("div",{className:"heading",children:Ie[i].languageBox.heading}),Object(j.jsxs)("div",{className:"choose",children:[Object(j.jsxs)("label",{children:[Object(j.jsx)("input",{name:"lan",value:"LV",onChange:function(e){X(e.target.value)},type:"radio",defaultChecked:"LV"===i}),"LV"]}),Object(j.jsxs)("label",{children:[Object(j.jsx)("input",{name:"lan",value:"RU",onChange:function(e){X(e.target.value)},type:"radio",defaultChecked:"RU"===i}),"RU"]}),Object(j.jsxs)("label",{children:[Object(j.jsx)("input",{name:"lan",value:"EN",onChange:function(e){X(e.target.value)},type:"radio",defaultChecked:"EN"===i}),"EN"]})]}),Object(j.jsxs)("div",{className:"bottom",children:[Object(j.jsx)("div",{className:"ok",onClick:function(){i!==Z&&O.a.post("/api/user/updateLanguage",{language:Z},{headers:{Authorization:"Bearer ".concat(a)}}).then((function(t){e(Q(t.data.language)),r.success(Ie[Z].languageBox.notification),p(!1)}),(function(t){401===t.response.status?(r.show(Ie[i].errorAuth),setTimeout((function(){e(H())}),1500)):r.show(Ie[i].error)}))},children:Ie[i].ok}),Object(j.jsx)("div",{className:"cancel",onClick:function(){p(!1)},children:Ie[i].cancel})]})]})})}),Object(j.jsx)("div",{className:"all-screen",children:Object(j.jsx)("div",{className:"main-box",children:Object(j.jsxs)("div",{className:"whats-app",children:[Object(j.jsxs)("div",{className:"side-bar",children:[Object(j.jsxs)("div",{className:"box-header admin",children:[Object(j.jsx)(ee.a,{cloudName:"artemijss",publicId:c||"tkixqcinuntqmalr2dej"}),Object(j.jsxs)("div",{className:"settings",children:[Object(j.jsx)("svg",{ref:Ve,className:ae?"active":"",onClick:function(){ne(!ae)},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:Object(j.jsx)("path",{fill:"currentColor",d:"M12 7a2 2 0 1 0-.001-4.001A2 2 0 0 0 12 7zm0 2a2 2 0 1 0-.001 3.999A2 2 0 0 0 12 9zm0 6a2 2 0 1 0-.001 3.999A2 2 0 0 0 12 15z"})}),ae&&Object(j.jsxs)("div",{className:"settingsPopUp",ref:Ge,children:[Object(j.jsx)("div",{className:"settingsLink",onClick:function(){p(!0),ne(!1)},children:Object(j.jsx)("div",{children:Ie[i].language})}),Object(j.jsx)("div",{className:"settingsLink",onClick:function(){e(H())},children:Object(j.jsx)("div",{children:Ie[i].logout})})]})]}),Object(j.jsx)(fe.b,{to:"/",children:"To Chat"})]}),Object(j.jsx)("div",{className:"search",children:Object(j.jsx)("div",{className:"box",children:Object(j.jsxs)("div",{className:"input-box",children:[Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:Object(j.jsx)("path",{fill:"currentColor",d:"M15.009 13.805h-.636l-.22-.219a5.184 5.184 0 0 0 1.256-3.386 5.207 5.207 0 1 0-5.207 5.208 5.183 5.183 0 0 0 3.385-1.255l.221.22v.635l4.004 3.999 1.194-1.195-3.997-4.007zm-4.808 0a3.605 3.605 0 1 1 0-7.21 3.605 3.605 0 0 1 0 7.21z"})}),Object(j.jsx)("input",{onChange:function(e){w(e.target.value)},type:"text",placeholder:Ie[i].inputPlaceholderSearch})]})})}),B&&Object(j.jsx)("div",{className:"loadingChatBlock admin",children:Object(j.jsx)("div",{className:"spinner spinner-1"})}),_.length>0&&!B&&_.map((function(e){return Object(j.jsxs)("div",{onClick:function(){C(e._id)},className:y===e._id?"dialog active":"dialog",children:[Object(j.jsx)(ee.a,{cloudName:"artemijss",publicId:e.photo?e.photo:"tkixqcinuntqmalr2dej"}),Object(j.jsx)("div",{className:"details",children:Object(j.jsx)("div",{className:"dialog-info1",children:Object(j.jsxs)("div",{className:"dialog-name big-text",children:[e.name," ",e.telephone]})})})]},e._id)})),0===_.length&&!B&&Object(j.jsx)("div",{children:"NOPE"})]}),y&&Object(j.jsxs)("div",{className:"userInfo",children:[Object(j.jsxs)("div",{className:"box-header",children:[Object(j.jsx)("svg",{onClick:function(){return C("")},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:Object(j.jsx)("path",{fill:"currentColor",d:"M19.1 17.2l-5.3-5.3 5.3-5.3-1.8-1.8-5.3 5.4-5.3-5.3-1.8 1.7 5.3 5.3-5.3 5.3L6.7 19l5.3-5.3 5.3 5.3 1.8-1.8z"})}),Object(j.jsx)("div",{className:"title",children:Ie[i].profileInfo})]}),!G&&Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:"user",children:Object(j.jsxs)("div",{className:"profile",children:[Object(j.jsxs)("div",{className:"image admin",children:[Object(j.jsx)("input",{ref:o,onChange:function(e){var t=e.target.files[0];if(!t)return!1;q(!0);var a=new FileReader;a.readAsDataURL(t),a.onloadend=function(){Ke(a.result)}},style:{display:"none"},type:"file",accept:"image/*"}),Object(j.jsx)("div",{onClick:function(){return o.current.click()},className:"changePhoto",children:Object(j.jsx)("span",{children:Ie[i].changePhoto})}),Object(j.jsx)(ee.a,{cloudName:"artemijss",publicId:L.photo?L.photo:"tkixqcinuntqmalr2dej"}),W&&Object(j.jsx)("div",{className:"loadingChatBlock",children:Object(j.jsx)("div",{className:"spinner spinner-1"})})]}),Object(j.jsx)("div",{className:"infoA",children:L.status?Ie[i].online:Ie[i].offline}),Object(j.jsxs)("div",{className:"name",children:[Object(j.jsx)("span",{children:Ie[i].name}),Object(j.jsxs)("div",{className:re?"update":" update borderBottom",children:[Object(j.jsx)("input",{id:"nameInput",onChange:function(e){Se(e.target.value)},type:"text",defaultValue:L.name,readOnly:re}),re?Object(j.jsx)("div",{onClick:function(){oe(!1)},children:Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:Object(j.jsx)("path",{fill:"currentColor",d:"M3.95 16.7v3.4h3.4l9.8-9.9-3.4-3.4-9.8 9.9zm15.8-9.1c.4-.4.4-.9 0-1.3l-2.1-2.1c-.4-.4-.9-.4-1.3 0l-1.6 1.6 3.4 3.4 1.6-1.6z"})})}):Object(j.jsx)("div",{onClick:function(){return t=L._id,oe(!0),void(Ce!==L.name&&O.a.post("/api/user/admin/updateName",{name:Ce,id:t},{headers:{Authorization:"Bearer ".concat(a)}}).then((function(){r.success(Ie[i].nameWasChanged),D(Object(n.a)(Object(n.a)({},L),{},{name:Ce}))}),(function(t){401===t.response.status?(r.show(Ie[i].errorAuth),setTimeout((function(){e(H())}),1500)):(r.show(Ie[i].namCanNotBeEmpty),document.getElementById("nameInput").value=L.name)})));var t},children:Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:Object(j.jsx)("path",{fill:"currentColor",d:"M9 17.2l-4-4-1.4 1.3L9 19.9 20.4 8.5 19 7.1 9 17.2z"})})})]})]}),Object(j.jsxs)("div",{className:"about",children:[Object(j.jsx)("span",{children:Ie[i].telephone}),Object(j.jsxs)("div",{className:ue?"update":" update borderBottom",children:[Object(j.jsx)("input",{id:"telephoneInput",onChange:function(e){Te(e.target.value)},type:"text",defaultValue:L.telephone,placeholder:Ie[i].telephone,readOnly:ue}),ue?Object(j.jsx)("div",{onClick:function(){je(!1)},children:Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:Object(j.jsx)("path",{fill:"currentColor",d:"M3.95 16.7v3.4h3.4l9.8-9.9-3.4-3.4-9.8 9.9zm15.8-9.1c.4-.4.4-.9 0-1.3l-2.1-2.1c-.4-.4-.9-.4-1.3 0l-1.6 1.6 3.4 3.4 1.6-1.6z"})})}):Object(j.jsx)("div",{onClick:function(){var t;t=L._id,je(!0),ke!==L.telephone&&O.a.post("/api/user/admin/updateTelephone",{telephone:ke,id:t,language:i},{headers:{Authorization:"Bearer ".concat(a)}}).then((function(){r.success(Ie[i].telephoneWasChanged),D(Object(n.a)(Object(n.a)({},L),{},{telephone:ke}))}),(function(t){401===t.response.status?(r.show(Ie[i].errorAuth),setTimeout((function(){e(H())}),1500)):400===t.response.status?r.show(t.response.data.message):500===t.response.status?r.show(Ie[i].errorUniqueTel):r.show(Ie[i].error),document.getElementById("telephoneInput").value=L.telephone}))},children:Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:Object(j.jsx)("path",{fill:"currentColor",d:"M9 17.2l-4-4-1.4 1.3L9 19.9 20.4 8.5 19 7.1 9 17.2z"})})})]})]}),Object(j.jsxs)("div",{className:"about",children:[Object(j.jsx)("span",{children:Ie[i].email}),Object(j.jsxs)("div",{className:we?"update":" update borderBottom",children:[Object(j.jsx)("input",{id:"emailInput",onChange:function(e){Me(e.target.value)},type:"text",defaultValue:L.email,placeholder:Ie[i].email,readOnly:we}),we?Object(j.jsx)("div",{onClick:function(){Ne(!1)},children:Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:Object(j.jsx)("path",{fill:"currentColor",d:"M3.95 16.7v3.4h3.4l9.8-9.9-3.4-3.4-9.8 9.9zm15.8-9.1c.4-.4.4-.9 0-1.3l-2.1-2.1c-.4-.4-.9-.4-1.3 0l-1.6 1.6 3.4 3.4 1.6-1.6z"})})}):Object(j.jsx)("div",{onClick:function(){var t;t=L._id,Ne(!0),ze!==L.email&&O.a.post("/api/user/admin/updateEmail",{email:ze,id:t,language:i},{headers:{Authorization:"Bearer ".concat(a)}}).then((function(){r.success(Ie[i].emailWasChanged),D(Object(n.a)(Object(n.a)({},L),{},{email:ze}))}),(function(t){401===t.response.status?(r.show(Ie[i].errorAuth),setTimeout((function(){e(H())}),1500)):400===t.response.status?r.show(t.response.data.message):500===t.response.status?r.show(Ie[i].errorUniqueEm):r.show(Ie[i].error),document.getElementById("emailInput").value=L.email}))},children:Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:Object(j.jsx)("path",{fill:"currentColor",d:"M9 17.2l-4-4-1.4 1.3L9 19.9 20.4 8.5 19 7.1 9 17.2z"})})})]})]}),Object(j.jsxs)("div",{className:"about",children:[Object(j.jsx)("span",{children:Ie[i].about}),Object(j.jsxs)("div",{className:me?"update":" update borderBottom",children:[Object(j.jsx)("input",{id:"aboutInput",onChange:function(e){Re(e.target.value)},type:"text",defaultValue:L.description,placeholder:Ie[i].aboutPlaceholder,readOnly:me}),me?Object(j.jsx)("div",{onClick:function(){pe(!1)},children:Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:Object(j.jsx)("path",{fill:"currentColor",d:"M3.95 16.7v3.4h3.4l9.8-9.9-3.4-3.4-9.8 9.9zm15.8-9.1c.4-.4.4-.9 0-1.3l-2.1-2.1c-.4-.4-.9-.4-1.3 0l-1.6 1.6 3.4 3.4 1.6-1.6z"})})}):Object(j.jsx)("div",{onClick:function(){var t;t=L._id,pe(!0),Pe!==L.description&&O.a.post("/api/user/admin/updateAbout",{about:Pe,id:t},{headers:{Authorization:"Bearer ".concat(a)}}).then((function(){r.success(Ie[i].aboutWasChanged),D(Object(n.a)(Object(n.a)({},L),{},{description:Pe}))}),(function(t){401===t.response.status?(r.show(Ie[i].errorAuth),setTimeout((function(){e(H())}),1500)):(r.show(Ie[i].error),document.getElementById("aboutInput").value=L.description)}))},children:Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",children:Object(j.jsx)("path",{fill:"currentColor",d:"M9 17.2l-4-4-1.4 1.3L9 19.9 20.4 8.5 19 7.1 9 17.2z"})})})]})]})]})})}),G&&Object(j.jsx)("div",{className:"loadingChatBlock",children:Object(j.jsx)("div",{className:"spinner spinner-1"})})]})]})})})]})},Ie={LV:{languageBox:{notification:"Valoda it nomain\u012bta",heading:"Izv\u0113lieties valodu"},inputPlaceholderSearch:"Mekl\u0113t cilv\u0113ku p\u0113s telefona",newChat:"Jauna t\u0113rz\u0113\u0161ana",profile:"Profils",language:"Valoda",logout:"Iziet",profileInfo:"Profila inform\u0101cija",addToFriends:"Pievienot draugiem",deleteChat:"Dz\u0113st t\u0113rz\u0113\u0161anu",sure:"Vai j\u016bs to tie\u0161am gribat?",aboutWasChanged:"Apraksts tika main\u012bts",nameWasChanged:"V\u0101rds/Uzv\u0101rds tika main\u012bts",emailWasChanged:"Email tika main\u012bts",telephoneWasChanged:"Telefons tika main\u012bts",namCanNotBeEmpty:"V\u0101rds nevar b\u016bt tuk\u0161s",photoWasChanged:"Foto tika main\u012bts",changePhoto:"Main\u012bt bildi",name:"V\u0101rds Uzv\u0101rds",about:"Apraksts",telephone:"T\u0101lrunis",email:"Email",deleted:"DZ\u0112STS",online:"online",offline:"offline",enterMessage:"Ievadiet zi\u0146ojumu",ok:"OK",cancel:"ATCELT",error:"K\u013c\u016bda",errorMsg:"S\u016btot zi\u0146ojumu, rad\u0101s k\u013c\u016bda",errorMsgEnter:"Ievadiet zi\u0146ojuma tekstu",errorMsgDel:"\u0160\u012b t\u0113rz\u0113\u0161ana ir izdz\u0113sta, un j\u016bs nevarat nos\u016bt\u012bt zi\u0146ojumus",errorAuth:"Autoriz\u0101cijas periods ir beidzies",errorUniqueTel:"Lietot\u0101js ar \u0161o telefonu jau ir re\u0123istr\u0113ts",errorUniqueEm:"Lietot\u0101js ar \u0161o e-pastu jau ir re\u0123istr\u0113ts"},RU:{languageBox:{notification:"\u042f\u0437\u044b\u043a \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043f\u043e\u043c\u0435\u043d\u044f\u043d",heading:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u044f\u0437\u044b\u043a"},inputPlaceholderSearch:"\u041f\u043e\u0438\u0441\u043a \u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0430 \u043f\u043e \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443",newChat:"\u041d\u043e\u0432\u044b\u0439 \u0447\u0430\u0442",profile:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c",language:"\u042f\u0437\u044b\u043a",logout:"\u0412\u044b\u0439\u0442\u0438",profileInfo:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043f\u0440\u043e\u0444\u0438\u043b\u0435",addToFriends:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0434\u0440\u0443\u0437\u044c\u044f",deleteChat:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0427\u0430\u0442",sure:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",aboutWasChanged:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0431\u044b\u043b\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u043e",nameWasChanged:"\u0418\u043c\u044f/\u0424\u0430\u043c\u0438\u043b\u0438\u044f \u0431\u044b\u043b\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0430",telephoneWasChanged:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d \u0431\u044b\u043b \u0438\u0437\u043c\u0435\u043d\u0435\u043d",emailWasChanged:"Email \u0431\u044b\u043b \u0438\u0437\u043c\u0435\u043d\u0435\u043d",namCanNotBeEmpty:"\u0418\u043c\u044f \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c",photoWasChanged:"\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f \u0431\u044b\u043b\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0430",changePhoto:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044e",name:"\u0418\u043c\u044f \u0424\u0430\u043c\u0438\u043b\u0438\u044f",about:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",telephone:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",email:"Email",deleted:"\u0423\u0414\u0410\u041b\u0415\u041d",online:"\u0432 \u0441\u0435\u0442\u0438",offline:"\u043d\u0435 \u0432 \u0441\u0435\u0442\u0438",enterMessage:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",ok:"OK",cancel:"\u041e\u0422\u041c\u0415\u041d\u0410",error:"\u041e\u0448\u0438\u0431\u043a\u0430",errorMsg:"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f",errorMsgEnter:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f",errorMsgDel:"\u042d\u0422\u041e\u0422 \u0427\u0410\u0422 \u0423\u0414\u0410\u041b\u0415\u041d \u0412\u042b \u041d\u0415 \u041c\u041e\u0416\u0415\u0422\u0415 \u041e\u0422\u041f\u0420\u0410\u0412\u041b\u042f\u0422\u042c \u0421\u041e\u041e\u0411\u0429\u0415\u041d\u0418\u042f",errorAuth:"\u0418\u0441\u0442\u0435\u043a \u0441\u0440\u043e\u043a \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438",errorUniqueTel:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u044d\u0442\u0438\u043c \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u043e\u043c \u0443\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d",errorUniqueEm:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u044d\u0442\u043e\u0439 \u043f\u043e\u0447\u0442\u043e\u0439 \u0443\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d"},EN:{languageBox:{notification:"Language changed",heading:"Select a language"},inputPlaceholderSearch:"Search person by phone",newChat:"New Chat",profile:"Profile",language:"Language",logout:"Logout",profileInfo:"Profile Info",addToFriends:"Add to friends",deleteChat:"Delete Chat",sure:"Are you sure?",aboutWasChanged:"Description was changed",nameWasChanged:"Name/Surname was changed",telephoneWasChanged:"Telephone was changed",emailWasChanged:"Email was changed",namCanNotBeEmpty:"Name cannot be empty",photoWasChanged:"Photo was changed",changePhoto:"Change photo",name:"Name Surname",about:"About",telephone:"Telephone",email:"Email",deleted:"DELETED",online:"online",offline:"offline",enterMessage:"Enter a message",ok:"OK",cancel:"CANCEL",error:"Error",errorMsg:"Error with sending message",errorMsgEnter:"Enter the message text",errorMsgDel:"THIS CHAT IS DELETED YOU CANT SEND MESSAGES",errorAuth:"Authorization period expired",errorUniqueTel:"User with this telephone is already registered",errorUniqueEm:"User with this email is already registered"}};var Te=function(){var e=function(){var e=Object(d.c)((function(e){return e.user})).userData;return Object(d.c)((function(e){return e.loading})).userLoading?Object(j.jsxs)(o.d,{children:[Object(j.jsx)(o.b,{path:"/",exact:!0,children:Object(j.jsx)(_e,{})}),Object(j.jsx)(o.a,{to:"/"})]}):e.userId?Object(j.jsxs)(o.d,{children:[Object(j.jsx)(o.b,{path:"/",exact:!0,children:Object(j.jsx)(we,{})}),"admin"===e.role&&Object(j.jsx)(o.b,{path:"/admin",exact:!0,children:Object(j.jsx)(ke,{})}),Object(j.jsx)(o.a,{to:"/"})]}):Object(j.jsxs)(o.d,{children:[Object(j.jsx)(o.b,{path:"/login",exact:!0,children:Object(j.jsx)(ye,{})}),Object(j.jsx)(o.b,{path:"/registration",exact:!0,children:Object(j.jsx)(Se,{})}),Object(j.jsx)(o.a,{to:"/login"})]})}(),t=Object(d.b)();return Object(s.useEffect)((function(){t((function(e){var t=localStorage.token,a=localStorage.language;if(e(Q(a&&"undefined"!==a?a:"EN")),e(b(!0)),t)return fetch("/api/auth/check",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).then((function(n){if(n.message)console.log(n.message),localStorage.removeItem("token"),e(b(!1));else{n.language&&(a=n.language);var s={name:n.name,email:n.email,telephone:n.telephone,userId:n.userId,token:t,role:n.role,description:n.description,photo:n.photo,language:a};e(J(s)),D.emit("userOnline",s.userId),e(z(t))}}));e(b(!1))}))}),[]),Object(j.jsx)(fe.a,{children:e})},Le=function(e){var t=e.color,a=e.pushRight,n=void 0===a||a,s=e.children;return c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{marginRight:n?"20px":"0",minWidth:24}},s)},De=function(){return c.a.createElement(Le,{color:"#e93333"},c.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),c.a.createElement("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),c.a.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"8"}))},ze=function(){return c.a.createElement(Le,{color:"#31B404"},c.a.createElement("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),c.a.createElement("polyline",{points:"22 4 12 14.01 9 11.01"}))},Me=function(){return c.a.createElement(Le,{color:"#FF0040"},c.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),c.a.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),c.a.createElement("line",{x1:"12",y1:"16",x2:"12",y2:"16"}))},Be=function(){return c.a.createElement(Le,{color:"#FFFFFF",pushRight:!1},c.a.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),c.a.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))},Ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Pe={backgroundColor:"#2f9688",color:"white",padding:"10px",textTransform:"uppercase",borderRadius:"3px",display:"flex",justifyContent:"space-between",alignItems:"center",boxShadow:"0px 2px 2px 2px rgba(0, 0, 0, 0.03)",fontFamily:"Arial",width:"300px",boxSizing:"border-box"},Re={marginLeft:"20px",border:"none",backgroundColor:"transparent",cursor:"pointer",color:"#FFFFFF"},Ge=function(e){var t=e.message,a=e.options,n=e.style,s=e.close;return c.a.createElement("div",{style:Ue({},Pe,n)},"info"===a.type&&c.a.createElement(De,null),"success"===a.type&&c.a.createElement(ze,null),"error"===a.type&&c.a.createElement(Me,null),c.a.createElement("span",{style:{flex:2}},t),c.a.createElement("button",{onClick:s,style:Re},c.a.createElement(Be,null)))},Ve={position:se.b.TOP_CENTER,timeout:5e3,offset:"30px",background:"#2f9688",transition:se.c.SCALE};r.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(d.a,{store:I,children:Object(j.jsx)(se.a,Object(n.a)(Object(n.a)({template:Ge},Ve),{},{children:Object(j.jsx)(Te,{})}))})}),document.getElementById("root"))}},[[302,1,2]]]);
//# sourceMappingURL=main.d7dbd38b.chunk.js.map